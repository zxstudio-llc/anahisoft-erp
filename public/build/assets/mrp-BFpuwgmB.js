import{r as c,j as e}from"./app-DQczwFTk.js";import{C as n,a as d,b as o,d as u,c as B}from"./card-BNPG6E-E.js";import{B as I}from"./button-BYXnJyXv.js";import{I as E}from"./input-goWATpHJ.js";import{B as j}from"./badge-CIPxAGrn.js";import{T as H,a as V,b as g,c as t,d as G,e as a}from"./table-J6M9UKS6.js";import{S as N,a as b,b as S,c as v,d as r}from"./select-D52pRjk-.js";import{A as w,P as z,F as J,S as K}from"./app-sidebar-layout-DjIGW_b8.js";import{C as U}from"./circle-check-big-DhhsJsf9.js";import{T as W}from"./triangle-alert-dUu2CXl0.js";import{P as X}from"./plus-BGuKkasZ.js";import{S as Y}from"./search-DPYN2drD.js";import"./app-C-su-A41.js";import"./utils-CPN-yreq.js";import"./index-D2mu7mBH.js";import"./index-CTC3mW-r.js";import"./index-BBPPPnEU.js";import"./index-BfMh8EvQ.js";import"./index-KJ4lOR0W.js";import"./index-DSuT5VJt.js";import"./index-CnB8Y-kE.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-7Ou4doz_.js";import"./index-CX1ZUDb2.js";import"./chevron-down-Bqmppv4h.js";import"./index-DcW1-0jE.js";import"./index-BVHM8iLO.js";import"./x-CNv1352c.js";import"./dropdown-menu-DWIT9g2E.js";import"./index-CJpv9kZ5.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./app-logo-icon-2MFPo7KO.js";import"./toast-lvG1LsW6.js";import"./index-Cou6Ygo0.js";function Ve({requirements:i=[{id:"MR-001",materialSku:"MAT-001",materialName:"Madera MDF 18mm",requiredQuantity:100,unit:"m²",availableStock:120,deficit:0,sourceOrder:"PO-2024-001",dueDate:"2024-01-20",status:"fulfilled",suggestedAction:"none"},{id:"MR-002",materialSku:"MAT-002",materialName:"Herrajes Premium",requiredQuantity:50,unit:"set",availableStock:45,deficit:5,sourceOrder:"PO-2024-001",dueDate:"2024-01-20",status:"partial",suggestedAction:"purchase"},{id:"MR-003",materialSku:"MAT-007",materialName:"Tablero Melamina",requiredQuantity:75,unit:"m²",availableStock:60,deficit:15,sourceOrder:"PO-2024-003",dueDate:"2024-02-01",status:"partial",suggestedAction:"purchase"},{id:"MR-004",materialSku:"MAT-008",materialName:"Patas Metálicas",requiredQuantity:100,unit:"pcs",availableStock:0,deficit:100,sourceOrder:"PO-2024-003",dueDate:"2024-02-01",status:"unfulfilled",suggestedAction:"purchase"},{id:"MR-005",materialSku:"COMP-001",materialName:"Sub-Ensamblaje A",requiredQuantity:20,unit:"pcs",availableStock:5,deficit:15,sourceOrder:"PO-2024-004",dueDate:"2024-02-10",status:"partial",suggestedAction:"produce"}]}){const[l,y]=c.useState(""),[m,C]=c.useState("all"),[x,A]=c.useState("all"),[f,Z]=c.useState(null),M=s=>{switch(s){case"fulfilled":return"bg-green-100 text-green-800";case"partial":return"bg-yellow-100 text-yellow-800";case"unfulfilled":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},P=s=>{switch(s){case"fulfilled":return"Satisfecho";case"partial":return"Parcial";case"unfulfilled":return"Insatisfecho";default:return s}},T=s=>{switch(s){case"purchase":return e.jsx(K,{className:"h-4 w-4"});case"produce":return e.jsx(J,{className:"h-4 w-4"});default:return null}},R=s=>{switch(s){case"purchase":return"Comprar";case"produce":return"Producir";case"none":return"Ninguna";default:return s}},k=i.filter(s=>{const h=s.materialName.toLowerCase().includes(l.toLowerCase())||s.materialSku.toLowerCase().includes(l.toLowerCase())||s.sourceOrder.toLowerCase().includes(l.toLowerCase()),F=m==="all"||s.status===m,Q=x==="all"||s.suggestedAction===x;return h&&F&&Q}),O=i.length,D=i.filter(s=>s.status==="fulfilled").length,L=i.filter(s=>s.status==="unfulfilled"||s.status==="partial").reduce((s,h)=>s+h.deficit,0),p=[{title:"Inicio",href:"/"},{title:"Productos",href:"/products"}];return f?e.jsx(w,{breadcrumbs:p,children:e.jsx("div",{className:"p-4 text-center text-red-500",children:f})}):e.jsx(w,{breadcrumbs:p,children:e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Planificación de Requerimientos de Materiales (MRP)"}),e.jsx("p",{className:"text-gray-600",children:"Gestiona las necesidades de materiales para la producción"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(n,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Total Requerimientos"}),e.jsx(z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold",children:O}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Requerimientos activos"})]})]}),e.jsxs(n,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Requerimientos Satisfechos"}),e.jsx(U,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:D}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Materiales disponibles"})]})]}),e.jsxs(n,{children:[e.jsxs(d,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(o,{className:"text-sm font-medium",children:"Déficit Total"}),e.jsx(W,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(u,{children:[e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[L," unidades"]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Materiales faltantes"})]})]})]}),e.jsxs(n,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(o,{children:"Lista de Requerimientos de Materiales"}),e.jsx(B,{children:"Visualiza y gestiona las necesidades de materiales para la producción"})]}),e.jsxs(I,{children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Generar MRP"]})]})}),e.jsxs(u,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(E,{placeholder:"Buscar material o orden de origen...",value:l,onChange:s=>y(s.target.value),className:"pl-10"})]}),e.jsxs(N,{value:m,onValueChange:C,children:[e.jsx(b,{className:"w-full sm:w-32",children:e.jsx(S,{placeholder:"Estado"})}),e.jsxs(v,{children:[e.jsx(r,{value:"all",children:"Todos"}),e.jsx(r,{value:"fulfilled",children:"Satisfecho"}),e.jsx(r,{value:"partial",children:"Parcial"}),e.jsx(r,{value:"unfulfilled",children:"Insatisfecho"})]})]}),e.jsxs(N,{value:x,onValueChange:A,children:[e.jsx(b,{className:"w-full sm:w-32",children:e.jsx(S,{placeholder:"Acción Sugerida"})}),e.jsxs(v,{children:[e.jsx(r,{value:"all",children:"Todas"}),e.jsx(r,{value:"purchase",children:"Comprar"}),e.jsx(r,{value:"produce",children:"Producir"}),e.jsx(r,{value:"none",children:"Ninguna"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(H,{children:[e.jsx(V,{children:e.jsxs(g,{children:[e.jsx(t,{children:"Material"}),e.jsx(t,{children:"Requerido"}),e.jsx(t,{children:"Disponible"}),e.jsx(t,{children:"Déficit"}),e.jsx(t,{children:"Orden Origen"}),e.jsx(t,{children:"Fecha Límite"}),e.jsx(t,{children:"Estado"}),e.jsx(t,{children:"Acción Sugerida"})]})}),e.jsx(G,{children:k.map(s=>e.jsxs(g,{children:[e.jsx(a,{className:"font-medium",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.materialName}),e.jsx("div",{className:"text-sm text-gray-500",children:s.materialSku})]})}),e.jsxs(a,{children:[s.requiredQuantity," ",s.unit]}),e.jsxs(a,{children:[s.availableStock," ",s.unit]}),e.jsx(a,{children:e.jsxs("span",{className:s.deficit>0?"text-red-600 font-medium":"text-green-600",children:[s.deficit," ",s.unit]})}),e.jsx(a,{children:s.sourceOrder}),e.jsx(a,{children:new Date(s.dueDate).toLocaleDateString()}),e.jsx(a,{children:e.jsx(j,{className:M(s.status),children:P(s.status)})}),e.jsx(a,{children:e.jsxs(j,{variant:"outline",className:"flex items-center gap-1",children:[T(s.suggestedAction),R(s.suggestedAction)]})})]},s.id))})]})})]})]})]})})})}export{Ve as default};
