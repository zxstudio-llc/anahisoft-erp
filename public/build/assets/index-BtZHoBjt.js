import{d as h,j as e,H as j,L as i,a as u}from"./app-DQczwFTk.js";import{A as g}from"./app-layout-CxNCz1W0.js";import{B as c}from"./button-BYXnJyXv.js";import{C as l,d}from"./card-BNPG6E-E.js";import{B as n}from"./badge-CIPxAGrn.js";import{D as N,a as f,b as y,c as o}from"./dropdown-menu-DWIT9g2E.js";import{E as b}from"./ellipsis-YiHoVY6K.js";import{S as v}from"./square-pen-NJFtVg51.js";import{T as E}from"./trash-2-b2Qe_qpo.js";import{E as S}from"./eye-CUZrYUKa.js";import"./app-C-su-A41.js";import"./tenant-status-listener-Bzjk6yNz.js";import"./index-Cou6Ygo0.js";import"./index-CTC3mW-r.js";import"./toast-lvG1LsW6.js";import"./app-sidebar-layout-DjIGW_b8.js";import"./index-D2mu7mBH.js";import"./utils-CPN-yreq.js";import"./index-DcW1-0jE.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CqVE9Fls.js";import"./index-DSuT5VJt.js";import"./index-CnB8Y-kE.js";import"./index-BVHM8iLO.js";import"./x-CNv1352c.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-CX1ZUDb2.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./search-DPYN2drD.js";import"./app-logo-icon-2MFPo7KO.js";import"./cookie-consent-DYpW6VIi.js";import"./index-BfMh8EvQ.js";import"./index-CJpv9kZ5.js";const w=[{title:"Panel",href:"/admin"},{title:"SEO",href:"/admin/seo"}];function je(){const{seoEntries:r,flash:a}=h().props,m=s=>s?s.includes("Page")?e.jsx(n,{variant:"default",children:"Página"}):s.includes("News")?e.jsx(n,{variant:"outline",children:"Noticia"}):e.jsx(n,{variant:"destructive",children:"Otro"}):e.jsx(n,{variant:"secondary",children:"Global"}),x=s=>{confirm("¿Estás seguro de que deseas eliminar este SEO? Esta acción no se puede deshacer.")&&u.delete(`/admin/seo/${s}`,{preserveScroll:!0,onSuccess:()=>{},onError:t=>{console.error("Error al eliminar SEO:",t)}})},p=()=>r.last_page<=1?null:e.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white border-t",children:[e.jsx("div",{className:"flex items-center text-sm text-gray-500",children:e.jsxs("span",{children:["Mostrando ",r.from," a ",r.to," de ",r.total," resultados"]})}),e.jsx("div",{className:"flex items-center space-x-2",children:r.links.map((s,t)=>s.url?e.jsx(i,{href:s.url,className:`px-3 py-2 text-sm border rounded-md transition-colors ${s.active?"bg-blue-500 text-white border-blue-500":"text-gray-700 border-gray-300 hover:bg-gray-50"}`,preserveScroll:!0,dangerouslySetInnerHTML:{__html:s.label}},t):e.jsx("span",{className:"px-3 py-2 text-sm text-gray-400 cursor-not-allowed",dangerouslySetInnerHTML:{__html:s.label}},t))})]});return e.jsxs(g,{breadcrumbs:w,children:[e.jsx(j,{title:"Gestión SEO"}),e.jsxs("div",{className:"p-6 space-y-4",children:[(a==null?void 0:a.success)&&e.jsx("div",{className:"bg-green-50 border border-green-200 text-green-800 px-4 py-3 rounded-md",children:a.success}),(a==null?void 0:a.error)&&e.jsx("div",{className:"bg-red-50 border border-red-200 text-red-800 px-4 py-3 rounded-md",children:a.error}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Gestión SEO"}),e.jsx("p",{className:"text-gray-600 mt-1",children:"Administra el SEO global y específico de páginas y noticias"})]}),e.jsx(i,{href:"/admin/seo/create",children:e.jsx(c,{children:"Nuevo SEO"})})]}),e.jsx(l,{children:e.jsxs(d,{className:"p-0",children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-left",children:[e.jsx("thead",{className:"bg-gray-50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 font-medium",children:"Tipo"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Ruta"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Título SEO"}),e.jsx("th",{className:"px-4 py-3 font-medium",children:"Asociado a"}),e.jsx("th",{className:"px-4 py-3 font-medium text-center",children:"Acciones"})]})}),e.jsx("tbody",{children:r.data.length>0?r.data.map(s=>e.jsxs("tr",{className:"border-t hover:bg-gray-50",children:[e.jsx("td",{className:"px-4 py-3",children:m(s.model_type)}),e.jsx("td",{className:"px-4 py-3",children:e.jsx("code",{className:"bg-gray-100 px-2 py-1 rounded text-sm",children:s.route})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.title||"Sin título"}),s.description&&e.jsx("div",{className:"text-sm text-gray-500 truncate max-w-xs",title:s.description,children:s.description})]})}),e.jsx("td",{className:"px-4 py-3",children:s.model_type&&s.model?e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:s.model.title}),e.jsxs("div",{className:"text-xs text-gray-500",children:["/",s.model.slug]})]}):e.jsx("span",{className:"text-gray-400 text-sm",children:"Sin asociar"})}),e.jsx("td",{className:"px-4 py-3 text-center",children:e.jsxs(N,{children:[e.jsx(f,{asChild:!0,children:e.jsx(c,{variant:"ghost",size:"sm",children:e.jsx(b,{className:"w-4 h-4"})})}),e.jsxs(y,{align:"end",children:[e.jsx(o,{asChild:!0,children:e.jsxs(i,{href:`/admin/seo/${s.id}/edit`,className:"flex items-center",children:[e.jsx(v,{className:"w-4 h-4 mr-2"}),"Editar"]})}),e.jsxs(o,{onClick:()=>x(s.id),className:"text-red-600 focus:text-red-600",children:[e.jsx(E,{className:"w-4 h-4 mr-2"}),"Eliminar"]})]})]})})]},s.id)):e.jsx("tr",{children:e.jsx("td",{colSpan:5,className:"px-4 py-8 text-center text-gray-500",children:e.jsxs("div",{className:"flex flex-col items-center",children:[e.jsx(S,{className:"w-8 h-8 mb-2 text-gray-400"}),e.jsx("p",{children:"No hay registros SEO configurados"}),e.jsx(i,{href:"/admin/seo/create",className:"mt-2",children:e.jsx(c,{variant:"outline",size:"sm",children:"Crear el primero"})})]})})})})]})}),p()]})}),r.data.length>0&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(l,{children:e.jsxs(d,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:r.data.filter(s=>!s.model_type).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"SEO Global"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:r.data.filter(s=>{var t;return(t=s.model_type)==null?void 0:t.includes("Page")}).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"SEO de Páginas"})]})}),e.jsx(l,{children:e.jsxs(d,{className:"p-4",children:[e.jsx("div",{className:"text-2xl font-bold text-purple-600",children:r.data.filter(s=>{var t;return(t=s.model_type)==null?void 0:t.includes("News")}).length}),e.jsx("p",{className:"text-sm text-gray-600",children:"SEO de Noticias"})]})})]})]})]})}export{je as default};
