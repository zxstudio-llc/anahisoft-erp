import{r as n,j as e}from"./app-DQczwFTk.js";import{C as x,a as u,b as h,d as p,c as G}from"./card-BNPG6E-E.js";import{B as j}from"./button-BYXnJyXv.js";import{I as d}from"./input-goWATpHJ.js";import{B as D}from"./badge-CIPxAGrn.js";import{T as _,a as X,b as y,c as r,d as J,e as t}from"./table-J6M9UKS6.js";import{D as K,a as U,b as W,c as b}from"./dropdown-menu-DWIT9g2E.js";import{S as I,a as S,b as F,c as R,d as l}from"./select-D52pRjk-.js";import{D as Y,b as Z,c as $,d as ee,e as se,f as ae}from"./dialog-DHq7tLZ5.js";import{L as i}from"./label-BchK1h47.js";import{T as re}from"./textarea-DHAakLHN.js";import{A as T}from"./app-sidebar-layout-DjIGW_b8.js";import{c as te}from"./createLucideIcon-D40S4Mwt.js";import{C as le}from"./circle-check-big-DhhsJsf9.js";import{C as ie}from"./circle-x-DYOtRzZk.js";import{P as de}from"./plus-BGuKkasZ.js";import{S as oe}from"./search-DPYN2drD.js";import{E as ce}from"./ellipsis-YiHoVY6K.js";import{E as ne}from"./eye-CUZrYUKa.js";import{S as me}from"./square-pen-NJFtVg51.js";import{T as xe}from"./trash-Drbn3N9x.js";import"./app-C-su-A41.js";import"./utils-CPN-yreq.js";import"./index-D2mu7mBH.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-BfMh8EvQ.js";import"./index-DSuT5VJt.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-BVHM8iLO.js";import"./index-CJpv9kZ5.js";import"./index-7Ou4doz_.js";import"./index-CX1ZUDb2.js";import"./chevron-down-Bqmppv4h.js";import"./index-DcW1-0jE.js";import"./x-CNv1352c.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./app-logo-icon-2MFPo7KO.js";import"./toast-lvG1LsW6.js";import"./index-Cou6Ygo0.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M14 2v6a2 2 0 0 0 .245.96l5.51 10.08A2 2 0 0 1 18 22H6a2 2 0 0 1-1.755-2.96l5.51-10.08A2 2 0 0 0 10 8V2",key:"18mbvz"}],["path",{d:"M6.453 15h11.094",key:"3shlmq"}],["path",{d:"M8.5 2h7",key:"csnxdl"}]],he=te("FlaskConical",ue);function us({inspections:m=[{id:"QI-001",productId:"PROD-FINISHED-001",productName:"Escritorio Ejecutivo Premium",batchNumber:"BATCH-2024-001",inspectionDate:"2024-01-25",inspector:"Ana López",result:"pass",defectsFound:[],notes:"Inspección final de lote. Todo conforme.",line:"Línea Ensamblaje A"},{id:"QI-002",productId:"PROD-FINISHED-002",productName:"Silla Ergonómica Oficina",batchNumber:"BATCH-2024-002",inspectionDate:"2024-01-19",inspector:"Carlos Ruiz",result:"fail",defectsFound:["Rayón en base","Costura suelta"],notes:"5 unidades con defectos menores. Requieren retrabajo.",line:"Línea Tapicería B"},{id:"QI-003",productId:"PROD-FINISHED-003",productName:"Mesa de Reuniones",batchNumber:"BATCH-2024-003",inspectionDate:"2024-02-05",inspector:"Ana López",result:"pending",defectsFound:[],notes:"Inspección programada para el final del turno.",line:"Línea Carpintería C"},{id:"QI-004",productId:"PROD-FINISHED-001",productName:"Escritorio Ejecutivo Premium",batchNumber:"BATCH-2024-001",inspectionDate:"2024-01-16",inspector:"Pedro Gómez",result:"pass",defectsFound:[],notes:"Inspección de etapa de corte. Dimensiones correctas.",line:"Línea Carpintería A"}]}){const[o,E]=n.useState(""),[f,L]=n.useState("all"),[P,c]=n.useState(!1),[a,C]=n.useState(null),[v,pe]=n.useState(null),A=s=>{switch(s){case"pass":return"bg-green-100 text-green-800";case"fail":return"bg-red-100 text-red-800";case"pending":return"bg-blue-100 text-blue-800";default:return"bg-gray-100 text-gray-800"}},H=s=>{switch(s){case"pass":return"Aprobado";case"fail":return"Rechazado";case"pending":return"Pendiente";default:return s}},B=m.filter(s=>{const g=s.productName.toLowerCase().includes(o.toLowerCase())||s.batchNumber.toLowerCase().includes(o.toLowerCase())||s.inspector.toLowerCase().includes(o.toLowerCase())||s.defectsFound.some(Q=>Q.toLowerCase().includes(o.toLowerCase())),N=f==="all"||s.result===f;return g&&N}),V=m.length,z=m.filter(s=>s.result==="pass").length,k=m.filter(s=>s.result==="fail").length,M=s=>{C(s),c(!0)},O=()=>{C(null),c(!0)},q=s=>{s.preventDefault(),console.log("Saving inspection:",a),c(!1)},w=[{title:"Inicio",href:"/"},{title:"Productos",href:"/products"}];return v?e.jsx(T,{breadcrumbs:w,children:e.jsx("div",{className:"p-4 text-center text-red-500",children:v})}):e.jsx(T,{breadcrumbs:w,children:e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Control de Calidad"}),e.jsx("p",{className:"text-gray-600",children:"Gestión de inspecciones y seguimiento de la calidad de productos"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(x,{children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Total Inspecciones"}),e.jsx(he,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold",children:V}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Inspecciones registradas"})]})]}),e.jsxs(x,{children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Inspecciones Aprobadas"}),e.jsx(le,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:z}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Productos conformes"})]})]}),e.jsxs(x,{children:[e.jsxs(u,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(h,{className:"text-sm font-medium",children:"Inspecciones Rechazadas"}),e.jsx(ie,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(p,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:k}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Productos con defectos"})]})]})]}),e.jsxs(x,{children:[e.jsx(u,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(h,{children:"Registros de Control de Calidad"}),e.jsx(G,{children:"Historial de inspecciones de calidad por producto o línea"})]}),e.jsxs(j,{onClick:O,children:[e.jsx(de,{className:"mr-2 h-4 w-4"}),"Nueva Inspección"]})]})}),e.jsxs(p,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(oe,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(d,{placeholder:"Buscar producto, lote, inspector o defecto...",value:o,onChange:s=>E(s.target.value),className:"pl-10"})]}),e.jsxs(I,{value:f,onValueChange:L,children:[e.jsx(S,{className:"w-full sm:w-40",children:e.jsx(F,{placeholder:"Resultado"})}),e.jsxs(R,{children:[e.jsx(l,{value:"all",children:"Todos"}),e.jsx(l,{value:"pass",children:"Aprobado"}),e.jsx(l,{value:"fail",children:"Rechazado"}),e.jsx(l,{value:"pending",children:"Pendiente"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(_,{children:[e.jsx(X,{children:e.jsxs(y,{children:[e.jsx(r,{children:"Producto"}),e.jsx(r,{children:"Lote"}),e.jsx(r,{children:"Fecha Inspección"}),e.jsx(r,{children:"Inspector"}),e.jsx(r,{children:"Resultado"}),e.jsx(r,{children:"Defectos"}),e.jsx(r,{className:"w-12"})]})}),e.jsx(J,{children:B.map(s=>e.jsxs(y,{children:[e.jsx(t,{className:"font-medium",children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.productName}),s.line&&e.jsxs("div",{className:"text-sm text-gray-500",children:["Línea: ",s.line]})]})}),e.jsx(t,{children:s.batchNumber}),e.jsx(t,{children:new Date(s.inspectionDate).toLocaleDateString()}),e.jsx(t,{children:s.inspector}),e.jsx(t,{children:e.jsx(D,{className:A(s.result),children:H(s.result)})}),e.jsx(t,{children:s.defectsFound.length>0?e.jsx("div",{className:"flex flex-wrap gap-1",children:s.defectsFound.map((g,N)=>e.jsx(D,{variant:"outline",className:"bg-red-50 text-red-700",children:g},N))}):e.jsx("span",{className:"text-gray-500",children:"Ninguno"})}),e.jsx(t,{children:e.jsxs(K,{children:[e.jsx(U,{asChild:!0,children:e.jsx(j,{variant:"ghost",size:"icon",children:e.jsx(ce,{className:"h-4 w-4"})})}),e.jsxs(W,{align:"end",children:[e.jsxs(b,{children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Ver Detalles"]}),e.jsxs(b,{onClick:()=>M(s),children:[e.jsx(me,{className:"mr-2 h-4 w-4"}),"Editar"]}),e.jsxs(b,{className:"text-red-600",children:[e.jsx(xe,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})})]},s.id))})]})})]})]}),e.jsx(Y,{open:P,onOpenChange:c,children:e.jsxs(Z,{className:"max-w-2xl",children:[e.jsxs($,{children:[e.jsx(ee,{children:a?"Editar Inspección":"Nueva Inspección de Calidad"}),e.jsx(se,{children:a?"Modifica los detalles de la inspección de calidad.":"Registra una nueva inspección de calidad para un producto o lote."})]}),e.jsxs("form",{onSubmit:q,className:"grid gap-4 py-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"productName",children:"Producto"}),e.jsx(d,{id:"productName",defaultValue:(a==null?void 0:a.productName)||"",placeholder:"Nombre del producto",required:!0})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"batchNumber",children:"Número de Lote"}),e.jsx(d,{id:"batchNumber",defaultValue:(a==null?void 0:a.batchNumber)||"",placeholder:"Ej. BATCH-2024-001",required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(i,{htmlFor:"inspectionDate",children:"Fecha de Inspección"}),e.jsx(d,{id:"inspectionDate",type:"date",defaultValue:(a==null?void 0:a.inspectionDate)||new Date().toISOString().split("T")[0],required:!0})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"inspector",children:"Inspector"}),e.jsx(d,{id:"inspector",defaultValue:(a==null?void 0:a.inspector)||"",placeholder:"Nombre del inspector",required:!0})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"result",children:"Resultado"}),e.jsxs(I,{defaultValue:(a==null?void 0:a.result)||"pending",children:[e.jsx(S,{children:e.jsx(F,{placeholder:"Seleccionar resultado"})}),e.jsxs(R,{children:[e.jsx(l,{value:"pass",children:"Aprobado"}),e.jsx(l,{value:"fail",children:"Rechazado"}),e.jsx(l,{value:"pending",children:"Pendiente"})]})]})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"defectsFound",children:"Defectos Encontrados (separados por coma)"}),e.jsx(d,{id:"defectsFound",defaultValue:(a==null?void 0:a.defectsFound.join(", "))||"",placeholder:"Ej. Rayón, Costura suelta"})]}),e.jsxs("div",{children:[e.jsx(i,{htmlFor:"notes",children:"Notas"}),e.jsx(re,{id:"notes",defaultValue:(a==null?void 0:a.notes)||"",placeholder:"Notas adicionales sobre la inspección."})]}),e.jsxs(ae,{children:[e.jsx(j,{variant:"outline",onClick:()=>c(!1),children:"Cancelar"}),e.jsx(j,{type:"submit",children:a?"Guardar Cambios":"Registrar Inspección"})]})]})]})})]})})})}export{us as default};
