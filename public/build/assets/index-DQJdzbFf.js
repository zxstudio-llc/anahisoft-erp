import{j as e,r as d,L as D,a as T,H as F}from"./app-DQczwFTk.js";import{A as M}from"./app-layout-CxNCz1W0.js";import{u as B,f as x,d as V,e as _,a as I,b as P,g as k,c as A}from"./index-CwDE0SfU.js";import{T as E,a as K,b as p,c as H,d as q,e as h}from"./table-J6M9UKS6.js";import{D as L,a as U}from"./data-table-view-options-NQL8x2eE.js";import{B as b}from"./button-BYXnJyXv.js";import{I as $}from"./input-goWATpHJ.js";import{X as O}from"./x-CNv1352c.js";import{C as g}from"./checkbox-Cvj9wDgC.js";import{D as l}from"./data-table-column-header-uei8EkBj.js";import{D as X,a as z,b as G,c as j}from"./dropdown-menu-DWIT9g2E.js";import{o as J,s as r,b as Q,n as W,c as Y}from"./schemas-BDuxrwph.js";import{E as Z}from"./ellipsis-YiHoVY6K.js";import{P as ee}from"./pencil-Chy_hZuP.js";import{T as te}from"./trash-2-b2Qe_qpo.js";import{B as se}from"./badge-CIPxAGrn.js";import{f as ae}from"./format-CMqicXTs.js";import"./app-C-su-A41.js";import"./tenant-status-listener-Bzjk6yNz.js";import"./index-Cou6Ygo0.js";import"./index-CTC3mW-r.js";import"./toast-lvG1LsW6.js";import"./app-sidebar-layout-DjIGW_b8.js";import"./index-D2mu7mBH.js";import"./utils-CPN-yreq.js";import"./index-DcW1-0jE.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CqVE9Fls.js";import"./index-DSuT5VJt.js";import"./index-CnB8Y-kE.js";import"./index-BVHM8iLO.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-CX1ZUDb2.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./search-DPYN2drD.js";import"./app-logo-icon-2MFPo7KO.js";import"./cookie-consent-DYpW6VIi.js";import"./card-BNPG6E-E.js";import"./select-D52pRjk-.js";import"./index-BfMh8EvQ.js";import"./index-7Ou4doz_.js";import"./chevron-down-Bqmppv4h.js";import"./chevron-left-C9_3M9nq.js";import"./eye-off-B_owjCxK.js";import"./index-CJpv9kZ5.js";function re({table:t}){var n;const s=t.getState().columnFilters.length>0;return e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center space-x-2",children:[e.jsx($,{placeholder:"Filtra por nombre",value:((n=t.getColumn("title"))==null?void 0:n.getFilterValue())??"",onChange:m=>{var c;return(c=t.getColumn("title"))==null?void 0:c.setFilterValue(m.target.value)},className:"h-8 w-[150px] lg:w-[250px]"}),s&&e.jsxs(b,{variant:"ghost",onClick:()=>t.resetColumnFilters(),className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(O,{})]})]}),e.jsx(L,{table:t})]})}function ie({columns:t,data:s,filterKey:n,meta:m}){var u;const[c,w]=d.useState({}),[C,S]=d.useState({}),[y,N]=d.useState([]),[v,R]=d.useState([]),o=B({data:s,columns:t,meta:m,state:{sorting:v,columnVisibility:C,rowSelection:c,columnFilters:y},enableRowSelection:!0,onRowSelectionChange:w,onSortingChange:R,onColumnFiltersChange:N,onColumnVisibilityChange:S,getCoreRowModel:A(),getFilteredRowModel:k(),getPaginationRowModel:P(),getSortedRowModel:I(),getFacetedRowModel:_(),getFacetedUniqueValues:V()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx(re,{table:o}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(E,{children:[e.jsx(K,{children:o.getHeaderGroups().map(i=>e.jsx(p,{children:i.headers.map(a=>e.jsx(H,{colSpan:a.colSpan,children:a.isPlaceholder?null:x(a.column.columnDef.header,a.getContext())},a.id))},i.id))}),e.jsx(q,{children:(u=o.getRowModel().rows)!=null&&u.length?o.getRowModel().rows.map(i=>e.jsx(p,{"data-state":i.getIsSelected()&&"selected",children:i.getVisibleCells().map(a=>e.jsx(h,{children:x(a.column.columnDef.cell,a.getContext())},a.id))},i.id)):e.jsx(p,{children:e.jsx(h,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(U,{table:o})]})}const f=J({id:W(),title:r().nullable(),subtitle:r().nullable(),link:r().nullable(),is_active:Q(),published_at:r().nullable(),image_url:r().nullable(),created_at:r(),updated_at:r()});function le({row:t}){const s=f.parse(t.original),n=()=>{confirm("¿Estás seguro de eliminar este banner?")&&T.delete(`/admin/banners/${s.id}`)};return e.jsx("div",{className:"flex justify-end",children:e.jsxs(X,{children:[e.jsx(z,{asChild:!0,children:e.jsxs(b,{variant:"ghost",className:"h-8 w-8 p-0",children:[e.jsx(Z,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Abrir menú"})]})}),e.jsxs(G,{align:"end",className:"w-[160px]",children:[e.jsx(j,{asChild:!0,children:e.jsx(D,{href:`/admin/banners/${s.id}/edit`,className:"w-full cursor-pointer",children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Editar"})]})})}),e.jsx(j,{className:"text-red-600 cursor-pointer",onClick:n,children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),e.jsx("span",{children:"Eliminar"})]})})]})]})})}const ne=()=>[{id:"select",header:({table:t})=>e.jsx(g,{checked:t.getIsAllPageRowsSelected()||t.getIsSomePageRowsSelected()&&"indeterminate",onCheckedChange:s=>t.toggleAllPageRowsSelected(!!s),"aria-label":"Select all"}),cell:({row:t})=>e.jsx(g,{checked:t.getIsSelected(),onCheckedChange:s=>t.toggleSelected(!!s),"aria-label":"Select row"}),enableSorting:!1,enableHiding:!1},{accessorKey:"id",header:({column:t})=>e.jsx(l,{column:t,title:"ID"}),cell:({row:t})=>e.jsx("div",{className:"w-[50px]",children:t.getValue("id")})},{accessorKey:"image_url",header:({column:t})=>e.jsx(l,{column:t,title:"Imagen"}),cell:({row:t})=>{const s=t.getValue("image_url");return s?e.jsx("img",{src:s,alt:"Banner",className:"h-10 w-auto object-cover rounded"}):e.jsx("span",{className:"text-gray-400",children:"Sin imagen"})}},{accessorKey:"title",header:({column:t})=>e.jsx(l,{column:t,title:"Título"})},{accessorKey:"subtitle",header:({column:t})=>e.jsx(l,{column:t,title:"Subtítulo"})},{accessorKey:"is_active",header:({column:t})=>e.jsx(l,{column:t,title:"Estado"}),cell:({row:t})=>{const s=t.getValue("is_active");return e.jsx(se,{variant:s?"default":"secondary",children:s?"Activo":"Inactivo"})}},{accessorKey:"published_at",header:({column:t})=>e.jsx(l,{column:t,title:"Fecha de publicación"}),cell:({row:t})=>{const s=t.getValue("published_at");return s?ae(new Date(s),"PP"):"No publicado"}},{id:"actions",cell:({row:t})=>e.jsx(le,{row:t})}],oe=[{title:"Dashboard",href:"/admin"},{title:"Banners",href:"/admin/banners"}];function dt({banners:t}){const s=Y(f).parse(t.data);return e.jsxs(M,{breadcrumbs:oe,children:[e.jsx(F,{title:"Banners"}),e.jsxs("div",{className:"flex-1 space-y-4 p-8",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Banners"}),e.jsx("p",{className:"text-muted-foreground",children:"Administra todos los banners desde aquí"})]}),e.jsx("a",{href:route("admin.banners.create"),className:"inline-flex items-center justify-center rounded-md bg-primary px-4 py-2 text-sm font-medium text-primary-foreground shadow transition-colors hover:bg-primary/90",children:"Crear Banner"})]}),e.jsx(ie,{columns:ne(),data:s,filterKey:"title"})]})]})}export{dt as default};
