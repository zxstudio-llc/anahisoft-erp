import{r as h,j as e,H as L}from"./app-DQczwFTk.js";import{C as i,a as n,b as c,c as u,d as t}from"./card-BNPG6E-E.js";import{B as g}from"./button-BYXnJyXv.js";import{I as w}from"./input-goWATpHJ.js";import{B}from"./badge-CIPxAGrn.js";import{T,a as $,b as j,c as l,d as E,e as a}from"./table-J6M9UKS6.js";import{A as I}from"./app-layout-CxNCz1W0.js";import{T as D}from"./trending-up-BS4bxp8p.js";import{T as V}from"./trending-down-BnWQn5iX.js";import{C as F}from"./calendar-RZLbZmV6.js";import{D as M}from"./download-DcYaHDKt.js";import{S as J}from"./search-DPYN2drD.js";import"./app-C-su-A41.js";import"./utils-CPN-yreq.js";import"./index-D2mu7mBH.js";import"./tenant-status-listener-Bzjk6yNz.js";import"./index-Cou6Ygo0.js";import"./index-CTC3mW-r.js";import"./toast-lvG1LsW6.js";import"./app-sidebar-layout-DjIGW_b8.js";import"./index-DcW1-0jE.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CqVE9Fls.js";import"./index-DSuT5VJt.js";import"./index-CnB8Y-kE.js";import"./index-BVHM8iLO.js";import"./x-CNv1352c.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-CX1ZUDb2.js";import"./dropdown-menu-DWIT9g2E.js";import"./index-BfMh8EvQ.js";import"./index-CJpv9kZ5.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./app-logo-icon-2MFPo7KO.js";import"./cookie-consent-DYpW6VIi.js";function Ee({accounts:p=[{code:"1110",name:"Caja y Bancos",type:"asset",openingBalance:5e4,currentBalance:45e3,entries:[{id:"1",date:"2024-01-15",journalNumber:"JE-001",description:"Cobro de factura INV-001",reference:"INV-001",debit:2500,credit:0,balance:52500},{id:"2",date:"2024-01-14",journalNumber:"JE-002",description:"Pago de nómina mensual",reference:"NOM-001",debit:0,credit:8500,balance:44e3},{id:"3",date:"2024-01-13",journalNumber:"JE-004",description:"Pago a proveedor",reference:"PROV-001",debit:0,credit:1500,balance:45500}]},{code:"1120",name:"Cuentas por Cobrar",type:"asset",openingBalance:8e4,currentBalance:85e3,entries:[{id:"4",date:"2024-01-16",journalNumber:"JE-005",description:"Facturación de servicios",reference:"INV-002",debit:1800,credit:0,balance:81800},{id:"5",date:"2024-01-15",journalNumber:"JE-001",description:"Cobro de factura",reference:"INV-001",debit:0,credit:2500,balance:8e4}]},{code:"4100",name:"Ingresos por Servicios",type:"income",openingBalance:0,currentBalance:18e4,entries:[{id:"6",date:"2024-01-15",journalNumber:"JE-001",description:"Venta de servicios de consultoría",reference:"INV-001",debit:0,credit:2500,balance:2500},{id:"7",date:"2024-01-16",journalNumber:"JE-005",description:"Servicios de desarrollo",reference:"INV-002",debit:0,credit:1800,balance:4300}]}]}){const[r,b]=h.useState(p[0]||null),[d,N]=h.useState(""),[A,H]=h.useState("all"),f=s=>{switch(s){case"asset":return"bg-green-100 text-green-800";case"liability":return"bg-red-100 text-red-800";case"equity":return"bg-blue-100 text-blue-800";case"income":return"bg-purple-100 text-purple-800";case"expense":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},v=s=>{switch(s){case"asset":return"Activo";case"liability":return"Pasivo";case"equity":return"Patrimonio";case"income":return"Ingreso";case"expense":return"Gasto";default:return s}},o=r?r.entries.filter(s=>s.description.toLowerCase().includes(d.toLowerCase())||s.reference.toLowerCase().includes(d.toLowerCase())||s.journalNumber.toLowerCase().includes(d.toLowerCase())):[],C=o.reduce((s,x)=>s+x.debit,0),S=o.reduce((s,x)=>s+x.credit,0),m=r?r.currentBalance-r.openingBalance:0,y=[{title:"Libro Mayor",href:"/finanzas/general-ledger"}];return e.jsxs(I,{breadcrumbs:y,children:[e.jsx(L,{title:"Libro Mayor"}),e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Libro Mayor"}),e.jsx("p",{className:"text-gray-600",children:"Movimientos detallados por cuenta contable"})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[e.jsx("div",{children:e.jsxs(i,{children:[e.jsxs(n,{children:[e.jsx(c,{children:"Cuentas"}),e.jsx(u,{children:"Selecciona una cuenta para ver el mayor"})]}),e.jsx(t,{children:e.jsx("div",{className:"space-y-2",children:p.map(s=>e.jsxs("div",{className:`p-3 rounded-lg border cursor-pointer transition-colors ${(r==null?void 0:r.code)===s.code?"bg-blue-50 border-blue-200":"hover:bg-gray-50"}`,onClick:()=>b(s),children:[e.jsx("div",{className:"font-medium text-sm",children:s.code}),e.jsx("div",{className:"text-sm text-gray-600",children:s.name}),e.jsxs("div",{className:"flex justify-between items-center mt-1",children:[e.jsx(B,{className:f(s.type),variant:"outline",children:v(s.type)}),e.jsxs("span",{className:"text-sm font-medium",children:["$",s.currentBalance.toLocaleString()]})]})]},s.code))})})]})}),e.jsx("div",{className:"lg:col-span-3",children:r?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-6",children:[e.jsxs(i,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(c,{className:"text-sm font-medium",children:"Saldo Inicial"})}),e.jsx(t,{children:e.jsxs("div",{className:"text-2xl font-bold",children:["$",r.openingBalance.toLocaleString()]})})]}),e.jsxs(i,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(c,{className:"text-sm font-medium",children:"Saldo Actual"})}),e.jsx(t,{children:e.jsxs("div",{className:"text-2xl font-bold",children:["$",r.currentBalance.toLocaleString()]})})]}),e.jsxs(i,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(c,{className:"text-sm font-medium",children:"Variación"})}),e.jsx(t,{children:e.jsxs("div",{className:`text-2xl font-bold flex items-center ${m>=0?"text-green-600":"text-red-600"}`,children:[m>=0?e.jsx(D,{className:"h-5 w-5 mr-1"}):e.jsx(V,{className:"h-5 w-5 mr-1"}),"$",Math.abs(m).toLocaleString()]})})]}),e.jsxs(i,{children:[e.jsx(n,{className:"pb-2",children:e.jsx(c,{className:"text-sm font-medium",children:"Movimientos"})}),e.jsx(t,{children:e.jsx("div",{className:"text-2xl font-bold",children:r.entries.length})})]})]}),e.jsxs(i,{children:[e.jsx(n,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsxs(c,{children:[r.code," - ",r.name]}),e.jsx(u,{children:"Movimientos del libro mayor"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(g,{variant:"outline",children:[e.jsx(F,{className:"mr-2 h-4 w-4"}),"Filtrar Fechas"]}),e.jsxs(g,{variant:"outline",children:[e.jsx(M,{className:"mr-2 h-4 w-4"}),"Exportar"]})]})]})}),e.jsxs(t,{children:[e.jsx("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:e.jsxs("div",{className:"relative flex-1",children:[e.jsx(J,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(w,{placeholder:"Buscar movimientos...",value:d,onChange:s=>N(s.target.value),className:"pl-10"})]})}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(T,{children:[e.jsx($,{children:e.jsxs(j,{children:[e.jsx(l,{children:"Fecha"}),e.jsx(l,{children:"Asiento"}),e.jsx(l,{children:"Descripción"}),e.jsx(l,{children:"Referencia"}),e.jsx(l,{className:"text-right",children:"Débito"}),e.jsx(l,{className:"text-right",children:"Crédito"}),e.jsx(l,{className:"text-right",children:"Saldo"})]})}),e.jsxs(E,{children:[e.jsxs(j,{className:"bg-gray-50",children:[e.jsx(a,{colSpan:4,className:"font-medium",children:"Saldo Inicial"}),e.jsx(a,{}),e.jsx(a,{}),e.jsxs(a,{className:"text-right font-medium",children:["$",r.openingBalance.toLocaleString()]})]}),o.map(s=>e.jsxs(j,{children:[e.jsx(a,{children:new Date(s.date).toLocaleDateString()}),e.jsx(a,{className:"font-medium",children:s.journalNumber}),e.jsx(a,{children:s.description}),e.jsx(a,{children:s.reference}),e.jsx(a,{className:"text-right",children:s.debit>0?`$${s.debit.toLocaleString()}`:"-"}),e.jsx(a,{className:"text-right",children:s.credit>0?`$${s.credit.toLocaleString()}`:"-"}),e.jsxs(a,{className:"text-right font-medium",children:["$",s.balance.toLocaleString()]})]},s.id))]})]})}),e.jsx("div",{className:"mt-4 flex justify-end",children:e.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:e.jsxs("div",{className:"grid grid-cols-3 gap-8 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total Débitos:"}),e.jsxs("div",{className:"text-lg font-bold",children:["$",C.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Total Créditos:"}),e.jsxs("div",{className:"text-lg font-bold",children:["$",S.toLocaleString()]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Saldo Final:"}),e.jsxs("div",{className:"text-lg font-bold",children:["$",r.currentBalance.toLocaleString()]})]})]})})})]})]})]}):e.jsx(i,{children:e.jsx(t,{className:"flex items-center justify-center h-64",children:e.jsxs("div",{className:"text-center text-gray-500",children:[e.jsx("div",{className:"text-lg font-medium mb-2",children:"Selecciona una cuenta"}),e.jsx("div",{children:"Elige una cuenta de la lista para ver sus movimientos"})]})})})})]})]})})]})}export{Ee as default};
