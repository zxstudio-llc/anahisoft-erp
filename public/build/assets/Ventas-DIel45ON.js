import{r as u,j as e}from"./app-DQczwFTk.js";import{C as i,a as n,b as l,d as c,c as C}from"./card-BNPG6E-E.js";import{B as r}from"./button-BYXnJyXv.js";import{B as g}from"./badge-CIPxAGrn.js";import{T as Q,a as G,b as I,c as o,d as J,e as d}from"./table-J6M9UKS6.js";import{D as S,a as D,b as R,c as T,d as k,e as B}from"./dialog-DHq7tLZ5.js";import{I as p}from"./input-goWATpHJ.js";import{L as a}from"./label-BchK1h47.js";import{S as E,a as P,b as U,c as F,d as t}from"./select-D52pRjk-.js";import{T as X}from"./textarea-DHAakLHN.js";import{A,a as Y,b}from"./app-sidebar-layout-DjIGW_b8.js";import{D as O}from"./database-D-jnkIqq.js";import{R as q}from"./refresh-cw-DLTUYBNZ.js";import{T as ee}from"./trending-up-BS4bxp8p.js";import{E as v}from"./external-link-sBsljvUk.js";import{E as se}from"./eye-CUZrYUKa.js";import"./app-C-su-A41.js";import"./utils-CPN-yreq.js";import"./index-D2mu7mBH.js";import"./index-DcW1-0jE.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CqVE9Fls.js";import"./index-DSuT5VJt.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-BVHM8iLO.js";import"./x-CNv1352c.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-BfMh8EvQ.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-7Ou4doz_.js";import"./index-CX1ZUDb2.js";import"./chevron-down-Bqmppv4h.js";import"./dropdown-menu-DWIT9g2E.js";import"./index-CJpv9kZ5.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./search-DPYN2drD.js";import"./app-logo-icon-2MFPo7KO.js";import"./toast-lvG1LsW6.js";import"./index-Cou6Ygo0.js";function Ye({reports:j=[{id:"rpt-001",name:"Financial Dashboard",description:"Complete financial overview with P&L, cash flow, and budget analysis",category:"financial",lastUpdated:"2024-01-15T10:30:00Z",status:"active",embedUrl:"https://app.powerbi.com/reportEmbed?reportId=financial-dashboard",dataSource:["Accounting","Banking","Invoices"],refreshFrequency:"hourly"},{id:"rpt-002",name:"Sales Performance",description:"Sales metrics, pipeline analysis, and customer insights",category:"sales",lastUpdated:"2024-01-15T09:15:00Z",status:"active",embedUrl:"https://app.powerbi.com/reportEmbed?reportId=sales-performance",dataSource:["CRM","Invoices","Customers"],refreshFrequency:"realtime"},{id:"rpt-003",name:"Inventory Analytics",description:"Stock levels, movement analysis, and procurement insights",category:"inventory",lastUpdated:"2024-01-15T08:45:00Z",status:"active",embedUrl:"https://app.powerbi.com/reportEmbed?reportId=inventory-analytics",dataSource:["Inventory","Warehouse","Purchase Orders"],refreshFrequency:"daily"},{id:"rpt-004",name:"HR Analytics",description:"Employee metrics, performance tracking, and workforce analysis",category:"hr",lastUpdated:"2024-01-14T16:20:00Z",status:"active",embedUrl:"https://app.powerbi.com/reportEmbed?reportId=hr-analytics",dataSource:["Employees","Payroll","Performance"],refreshFrequency:"weekly"},{id:"rpt-005",name:"Operations Dashboard",description:"Operational KPIs, process efficiency, and resource utilization",category:"operations",lastUpdated:"2024-01-15T07:30:00Z",status:"error",embedUrl:"https://app.powerbi.com/reportEmbed?reportId=operations-dashboard",dataSource:["Manufacturing","Quality","Maintenance"],refreshFrequency:"hourly"}],connectionStatus:x="connected"}){const[w,re]=u.useState(null),[m,M]=u.useState(null),[z,f]=u.useState(!1),[H,y]=u.useState(!1),L=s=>{switch(s){case"financial":return"bg-green-100 text-green-800";case"sales":return"bg-blue-100 text-blue-800";case"inventory":return"bg-purple-100 text-purple-800";case"hr":return"bg-orange-100 text-orange-800";case"operations":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},Z=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},W=s=>{switch(s){case"connected":return"bg-green-100 text-green-800";case"disconnected":return"bg-gray-100 text-gray-800";case"error":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},$=s=>{const K=new Date(s),h=Math.floor((new Date().getTime()-K.getTime())/(1e3*60));return h<60?`${h} minutes ago`:h<1440?`${Math.floor(h/60)} hours ago`:`${Math.floor(h/1440)} days ago`},V=j.filter(s=>s.status==="active").length,_=j.filter(s=>s.status==="error").length,N=[{title:"Inicio",href:"/"},{title:"Power BI",href:"/bi"},{title:"Ventas",href:"/bi/ventas"}];return w?e.jsx(A,{breadcrumbs:N,children:e.jsx("div",{className:"p-4 text-center text-red-500",children:w})}):e.jsx(A,{breadcrumbs:N,children:e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsx("div",{className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Power BI Integration"}),e.jsx("p",{className:"text-gray-600",children:"Business Intelligence dashboards and analytics"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(S,{open:z,onOpenChange:f,children:[e.jsx(D,{asChild:!0,children:e.jsxs(r,{variant:"outline",children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Configure"]})}),e.jsxs(R,{children:[e.jsxs(T,{children:[e.jsx(k,{children:"Power BI Configuration"}),e.jsx(B,{children:"Configure your Power BI connection settings"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"workspace-id",children:"Workspace ID"}),e.jsx(p,{id:"workspace-id",placeholder:"Enter Power BI Workspace ID"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"client-id",children:"Client ID"}),e.jsx(p,{id:"client-id",placeholder:"Enter Azure App Client ID"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"client-secret",children:"Client Secret"}),e.jsx(p,{id:"client-secret",type:"password",placeholder:"Enter Client Secret"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"tenant-id",children:"Tenant ID"}),e.jsx(p,{id:"tenant-id",placeholder:"Enter Azure Tenant ID"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(r,{variant:"outline",onClick:()=>f(!1),children:"Cancel"}),e.jsx(r,{onClick:()=>f(!1),children:"Save Configuration"})]})]})]}),e.jsxs(S,{open:H,onOpenChange:y,children:[e.jsx(D,{asChild:!0,children:e.jsxs(r,{children:[e.jsx(b,{className:"mr-2 h-4 w-4"}),"Create Report"]})}),e.jsxs(R,{children:[e.jsxs(T,{children:[e.jsx(k,{children:"Create New Report"}),e.jsx(B,{children:"Create a new Power BI report integration"})]}),e.jsxs("div",{className:"grid gap-4 py-4",children:[e.jsxs("div",{children:[e.jsx(a,{htmlFor:"report-name",children:"Report Name"}),e.jsx(p,{id:"report-name",placeholder:"Enter report name"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"report-description",children:"Description"}),e.jsx(X,{id:"report-description",placeholder:"Describe the report purpose"})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"category",children:"Category"}),e.jsxs(E,{children:[e.jsx(P,{children:e.jsx(U,{placeholder:"Select category"})}),e.jsxs(F,{children:[e.jsx(t,{value:"financial",children:"Financial"}),e.jsx(t,{value:"sales",children:"Sales"}),e.jsx(t,{value:"inventory",children:"Inventory"}),e.jsx(t,{value:"hr",children:"HR"}),e.jsx(t,{value:"operations",children:"Operations"})]})]})]}),e.jsxs("div",{children:[e.jsx(a,{htmlFor:"refresh-frequency",children:"Refresh Frequency"}),e.jsxs(E,{children:[e.jsx(P,{children:e.jsx(U,{placeholder:"Select refresh frequency"})}),e.jsxs(F,{children:[e.jsx(t,{value:"realtime",children:"Real-time"}),e.jsx(t,{value:"hourly",children:"Hourly"}),e.jsx(t,{value:"daily",children:"Daily"}),e.jsx(t,{value:"weekly",children:"Weekly"})]})]})]})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(r,{variant:"outline",onClick:()=>y(!1),children:"Cancel"}),e.jsx(r,{onClick:()=>y(!1),children:"Create Report"})]})]})]})]})]})}),e.jsxs(i,{className:"mb-8",children:[e.jsx(n,{children:e.jsxs(l,{className:"flex items-center gap-2",children:[e.jsx(O,{className:"h-5 w-5"}),"Connection Status"]})}),e.jsx(c,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(g,{className:W(x),children:x.charAt(0).toUpperCase()+x.slice(1)}),e.jsx("span",{className:"text-sm text-gray-600",children:x==="connected"?"Successfully connected to Power BI Service":x==="error"?"Connection error - check configuration":"Not connected to Power BI Service"})]}),e.jsxs(r,{variant:"outline",size:"sm",children:[e.jsx(q,{className:"mr-2 h-4 w-4"}),"Test Connection"]})]})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Total Reports"}),e.jsx(b,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:j.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Configured reports"})]})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Active Reports"}),e.jsx(ee,{className:"h-4 w-4 text-green-600"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:V}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Running successfully"})]})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Error Reports"}),e.jsx(v,{className:"h-4 w-4 text-red-600"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold text-red-600",children:_}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Need attention"})]})]}),e.jsxs(i,{children:[e.jsxs(n,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(l,{className:"text-sm font-medium",children:"Data Sources"}),e.jsx(O,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(c,{children:[e.jsx("div",{className:"text-2xl font-bold",children:"12"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Connected sources"})]})]})]}),e.jsxs(i,{className:"mb-8",children:[e.jsxs(n,{children:[e.jsx(l,{children:"Power BI Reports"}),e.jsx(C,{children:"Manage your integrated Power BI reports and dashboards"})]}),e.jsx(c,{children:e.jsx("div",{className:"rounded-md border",children:e.jsxs(Q,{children:[e.jsx(G,{children:e.jsxs(I,{children:[e.jsx(o,{children:"Report Name"}),e.jsx(o,{children:"Category"}),e.jsx(o,{children:"Data Sources"}),e.jsx(o,{children:"Refresh"}),e.jsx(o,{children:"Last Updated"}),e.jsx(o,{children:"Status"}),e.jsx(o,{children:"Actions"})]})}),e.jsx(J,{children:j.map(s=>e.jsxs(I,{children:[e.jsx(d,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.description})]})}),e.jsx(d,{children:e.jsx(g,{className:L(s.category),children:s.category.charAt(0).toUpperCase()+s.category.slice(1)})}),e.jsx(d,{children:e.jsxs("div",{className:"text-sm",children:[s.dataSource.slice(0,2).join(", "),s.dataSource.length>2&&` +${s.dataSource.length-2} more`]})}),e.jsx(d,{children:e.jsx(g,{variant:"outline",children:s.refreshFrequency.charAt(0).toUpperCase()+s.refreshFrequency.slice(1)})}),e.jsx(d,{className:"text-sm",children:$(s.lastUpdated)}),e.jsx(d,{children:e.jsx(g,{className:Z(s.status),children:s.status.charAt(0).toUpperCase()+s.status.slice(1)})}),e.jsx(d,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>M(s),children:e.jsx(se,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>window.open(s.embedUrl,"_blank"),children:e.jsx(v,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"sm",children:e.jsx(q,{className:"h-4 w-4"})})]})})]},s.id))})]})})})]}),m&&e.jsxs(i,{children:[e.jsxs(n,{children:[e.jsxs(l,{className:"flex items-center justify-between",children:[e.jsxs("span",{children:[m.name," - Preview"]}),e.jsxs(r,{variant:"outline",onClick:()=>window.open(m.embedUrl,"_blank"),children:[e.jsx(v,{className:"mr-2 h-4 w-4"}),"Open in Power BI"]})]}),e.jsx(C,{children:m.description})]}),e.jsx(c,{children:e.jsx("div",{className:"w-full h-96 bg-gray-100 rounded-lg flex items-center justify-center border-2 border-dashed border-gray-300",children:e.jsxs("div",{className:"text-center",children:[e.jsx(b,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-gray-500 mb-2",children:"Power BI Report Embed"}),e.jsx("p",{className:"text-sm text-gray-400",children:"This would show the embedded Power BI report in production"}),e.jsx(r,{className:"mt-4",onClick:()=>window.open(m.embedUrl,"_blank"),children:"View Full Report"})]})})})]})]})})})}export{Ye as default};
