import{d as f,r as b,j as e,H as v,a as _}from"./app-DQczwFTk.js";import{A as C}from"./app-layout-CxNCz1W0.js";import{C as m,a as p,b as d,d as h}from"./card-BNPG6E-E.js";import{I as n}from"./input-goWATpHJ.js";import{T as N}from"./textarea-DHAakLHN.js";import{B as y}from"./button-BYXnJyXv.js";import{L as r}from"./label-BchK1h47.js";import{S as w}from"./switch-x9PZ-zT7.js";import{I as F}from"./image-dropzone-B7t8X9ae.js";import{T as I}from"./tiptapWrapper-B23OfFwY.js";import"./app-C-su-A41.js";import"./tenant-status-listener-Bzjk6yNz.js";import"./index-Cou6Ygo0.js";import"./index-CTC3mW-r.js";import"./toast-lvG1LsW6.js";import"./app-sidebar-layout-DjIGW_b8.js";import"./index-D2mu7mBH.js";import"./utils-CPN-yreq.js";import"./index-DcW1-0jE.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CqVE9Fls.js";import"./index-DSuT5VJt.js";import"./index-CnB8Y-kE.js";import"./index-BVHM8iLO.js";import"./x-CNv1352c.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-CX1ZUDb2.js";import"./dropdown-menu-DWIT9g2E.js";import"./index-BfMh8EvQ.js";import"./index-CJpv9kZ5.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./search-DPYN2drD.js";import"./app-logo-icon-2MFPo7KO.js";import"./cookie-consent-DYpW6VIi.js";import"./index-7Ou4doz_.js";import"./trash-2-b2Qe_qpo.js";import"./with-selector-C9hgCskx.js";import"./popover-PDQ3fITR.js";import"./code-BO9xQCBn.js";const k=[{title:"Dashboard",href:"/admin"},{title:"Noticias",href:"/admin/news"},{title:"Crear",href:"/admin/news/create"}];function ye(){const{errors:l}=f().props,[t,a]=b.useState({title:"",slug:"",excerpt:"",content:"",published_at:"",is_published:!1,cover_image:null}),o=s=>{const{name:i,value:x,type:u,checked:j}=s.target;a(g=>({...g,[i]:u==="checkbox"?j:x}))},c=s=>{s.preventDefault();const i=new FormData;i.append("title",t.title),i.append("slug",t.slug),i.append("excerpt",t.excerpt),i.append("content",t.content),i.append("published_at",t.published_at),i.append("is_published",t.is_published?"1":"0"),t.cover_image&&i.append("cover_image",t.cover_image),_.post("/admin/news",i,{forceFormData:!0})};return e.jsxs(C,{breadcrumbs:k,children:[e.jsx(v,{title:"Crear noticia"}),e.jsxs("div",{className:"flex-1 space-y-6 p-8",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Crear noticia"}),e.jsx("p",{className:"text-muted-foreground",children:"Administra todos las noticias/posts desde aquí."})]}),e.jsx(y,{onClick:c,children:"Guardar"})]}),e.jsx("form",{onSubmit:c,className:"space-y-6",children:e.jsxs("div",{className:"flex gap-6 items-start",children:[e.jsx("div",{className:"w-full space-y-6",children:e.jsxs(m,{children:[e.jsx(p,{children:e.jsx(d,{children:"Crear Noticia"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsx(r,{htmlFor:"image",children:"Imagen"}),e.jsx(F,{image:t.cover_image,onImageChange:s=>a(i=>({...i,cover_image:s})),collectionName:"news_covers",title:"Portada de la noticia",description:"Imagen principal que aparecerá en el listado"}),t.cover_image&&e.jsxs("p",{className:"text-sm text-gray-500 mt-2",children:["Archivo seleccionado: ",t.cover_image.name]})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"title",children:"Título"}),e.jsx(n,{id:"title",name:"title",value:t.title,onChange:o,required:!0})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"slug",children:"Slug"}),e.jsx(n,{id:"slug",name:"slug",value:t.slug,onChange:o})]}),e.jsxs("div",{children:[e.jsx(r,{htmlFor:"excerpt",children:"Extracto"}),e.jsx(N,{id:"excerpt",name:"excerpt",value:t.excerpt,onChange:o,rows:3})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(r,{htmlFor:"content",children:"Contenido"}),e.jsx(I,{content:t.content,onChange:s=>a(i=>({...i,content:s})),placeholder:"Escribe el contenido de la noticia...",imageCollection:"news_content_images"}),l.content&&e.jsx("p",{className:"text-sm text-red-500",children:l.content})]})]})]})}),e.jsx("div",{className:"w-[25%] space-y-6",children:e.jsxs(m,{children:[e.jsx(p,{children:e.jsx(d,{children:"Configuración"})}),e.jsxs(h,{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(r,{htmlFor:"published_at",children:"Fecha de publicación"}),e.jsx(n,{id:"published_at",name:"published_at",type:"datetime-local",value:t.published_at,onChange:o})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(r,{htmlFor:"is_published",children:"Publicar"}),e.jsx(w,{id:"is_published",name:"is_published",checked:t.is_published,onCheckedChange:s=>a(i=>({...i,is_published:s===!0}))})]})]})]})})]})})]})]})}export{ye as default};
