import{u as b,r as g,j as e,H as _}from"./app-DQczwFTk.js";import{B as o}from"./button-BYXnJyXv.js";import{C,a as N,b as y,d as F}from"./card-BNPG6E-E.js";import{C as p}from"./checkbox-Cvj9wDgC.js";import{I as n}from"./input-goWATpHJ.js";import{L as l}from"./label-BchK1h47.js";import{S,a as w,b as P,c as k,d as x}from"./select-D52pRjk-.js";import{A}from"./app-layout-CxNCz1W0.js";import{P as E}from"./plus-BGuKkasZ.js";import{X as I}from"./x-CNv1352c.js";import{S as B}from"./save-Cg27bxM4.js";import"./app-C-su-A41.js";import"./index-D2mu7mBH.js";import"./utils-CPN-yreq.js";import"./index-KJ4lOR0W.js";import"./index-BBPPPnEU.js";import"./index-7Ou4doz_.js";import"./index-ClSqUjUN.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-BVHM8iLO.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-BfMh8EvQ.js";import"./index-DSuT5VJt.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-CX1ZUDb2.js";import"./chevron-down-Bqmppv4h.js";import"./tenant-status-listener-Bzjk6yNz.js";import"./index-Cou6Ygo0.js";import"./toast-lvG1LsW6.js";import"./app-sidebar-layout-DjIGW_b8.js";import"./index-DcW1-0jE.js";import"./dropdown-menu-DWIT9g2E.js";import"./index-CJpv9kZ5.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./search-DPYN2drD.js";import"./app-logo-icon-2MFPo7KO.js";import"./cookie-consent-DYpW6VIi.js";function Se({plan:s}){const{data:t,setData:a,put:u,processing:h,errors:r}=b({name:s.name,price:s.price,billing_period:s.billing_period,invoice_limit:s.invoice_limit,features:s.features||[],is_active:s.is_active,is_featured:s.is_featured}),[d,m]=g.useState(""),j=i=>{i.preventDefault(),u(`/admin/subscription-plans/${s.id}`)},f=()=>{d.trim()!==""&&(a("features",[...t.features,d.trim()]),m(""))},v=i=>{const c=[...t.features];c.splice(i,1),a("features",c)};return e.jsxs(A,{children:[e.jsx(_,{title:"Editar Plan de Suscripción"}),e.jsx("div",{className:"flex h-full flex-1 flex-col gap-4 overflow-x-auto rounded-xl p-4",children:e.jsxs("div",{className:"container py-6",children:[e.jsx("div",{className:"mb-6 flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Editar Plan de Suscripción"})}),e.jsxs(C,{children:[e.jsx(N,{children:e.jsx(y,{children:"Información del Plan"})}),e.jsx(F,{children:e.jsxs("form",{onSubmit:j,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"name",children:"Nombre"}),e.jsx(n,{id:"name",value:t.name,onChange:i=>a("name",i.target.value),required:!0}),r.name&&e.jsx("p",{className:"text-sm text-red-500",children:r.name})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"price",children:"Precio"}),e.jsx(n,{id:"price",type:"number",step:"0.01",min:"0",value:t.price,onChange:i=>a("price",parseFloat(i.target.value)||0),required:!0}),r.price&&e.jsx("p",{className:"text-sm text-red-500",children:r.price})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"billing_period",children:"Periodo de Facturación"}),e.jsxs(S,{value:t.billing_period,onValueChange:i=>a("billing_period",i),children:[e.jsx(w,{children:e.jsx(P,{placeholder:"Seleccione un periodo"})}),e.jsxs(k,{children:[e.jsx(x,{value:"monthly",children:"Mensual"}),e.jsx(x,{value:"yearly",children:"Anual"})]})]}),r.billing_period&&e.jsx("p",{className:"text-sm text-red-500",children:r.billing_period})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"invoice_limit",children:"Límite de Facturas (0 para ilimitado)"}),e.jsx(n,{id:"invoice_limit",type:"number",min:"0",value:t.invoice_limit,onChange:i=>a("invoice_limit",parseInt(i.target.value)||0),required:!0}),r.invoice_limit&&e.jsx("p",{className:"text-sm text-red-500",children:r.invoice_limit})]}),e.jsxs("div",{children:[e.jsx(l,{children:"Características"}),e.jsxs("div",{className:"mt-1 flex space-x-2",children:[e.jsx(n,{value:d,onChange:i=>m(i.target.value),placeholder:"Añadir nueva característica"}),e.jsx(o,{type:"button",onClick:f,children:e.jsx(E,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"mt-2 space-y-2",children:t.features.map((i,c)=>e.jsxs("div",{className:"flex items-center justify-between rounded-md bg-muted p-2",children:[e.jsx("span",{children:i}),e.jsx(o,{type:"button",variant:"ghost",size:"sm",onClick:()=>v(c),children:e.jsx(I,{className:"h-4 w-4"})})]},c))}),r.features&&e.jsx("p",{className:"text-sm text-red-500",children:r.features})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{id:"is_active",checked:t.is_active,onCheckedChange:i=>a("is_active",!!i)}),e.jsx(l,{htmlFor:"is_active",children:"Plan activo"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(p,{id:"is_featured",checked:t.is_featured,onCheckedChange:i=>a("is_featured",!!i)}),e.jsx(l,{htmlFor:"is_featured",children:"Plan destacado"})]}),e.jsxs("div",{className:"flex justify-end space-x-2 pt-4",children:[e.jsx(o,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancelar"}),e.jsxs(o,{type:"submit",disabled:h,children:[e.jsx(B,{className:"mr-2 h-4 w-4"}),"Actualizar Plan"]})]})]})})]})]})})]})}export{Se as default};
