import{U as u,j as e,r as n,L as f,a as R,H as N}from"./app-DQczwFTk.js";import{u as y,f as x,d as T,e as F,a as P,b as M,g as D,c as V}from"./index-CwDE0SfU.js";import{T as B,a as K,b as d,c as E,d as H,e as h}from"./table-J6M9UKS6.js";import{D as I,a as L}from"./data-table-view-options-NQL8x2eE.js";import{B as c}from"./button-BYXnJyXv.js";import{I as _}from"./input-goWATpHJ.js";import{X as k}from"./x-CNv1352c.js";import{B as A}from"./badge-CIPxAGrn.js";import{P as G}from"./pencil-Chy_hZuP.js";import{T as U}from"./trash-2-b2Qe_qpo.js";import{A as q}from"./app-layout-CxNCz1W0.js";import{P as z}from"./plus-BGuKkasZ.js";import"./app-C-su-A41.js";import"./createLucideIcon-D40S4Mwt.js";import"./utils-CPN-yreq.js";import"./select-D52pRjk-.js";import"./index-CTC3mW-r.js";import"./index-BBPPPnEU.js";import"./index-BfMh8EvQ.js";import"./index-KJ4lOR0W.js";import"./index-D2mu7mBH.js";import"./index-DSuT5VJt.js";import"./index-CnB8Y-kE.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-7Ou4doz_.js";import"./index-CX1ZUDb2.js";import"./chevron-down-Bqmppv4h.js";import"./chevron-left-C9_3M9nq.js";import"./app-sidebar-layout-DjIGW_b8.js";import"./index-DcW1-0jE.js";import"./index-BVHM8iLO.js";import"./dropdown-menu-DWIT9g2E.js";import"./index-CJpv9kZ5.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./search-DPYN2drD.js";import"./app-logo-icon-2MFPo7KO.js";import"./toast-lvG1LsW6.js";import"./index-Cou6Ygo0.js";import"./tenant-status-listener-Bzjk6yNz.js";import"./cookie-consent-DYpW6VIi.js";import"./card-BNPG6E-E.js";function $({table:t,onResetSearch:a}){const p=t.getState().columnFilters.length>0,[l,r]=u.useState("");return u.useEffect(()=>{t.setGlobalFilter(l)},[l]),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex flex-1 items-center space-x-2",children:[e.jsx(_,{placeholder:"Buscar por título...",value:l,onChange:m=>r(m.target.value),className:"h-8 w-[150px] lg:w-[250px]"}),p&&e.jsxs(c,{variant:"ghost",onClick:()=>{t.resetColumnFilters(),r(""),a&&a()},className:"h-8 px-2 lg:px-3",children:["Reset",e.jsx(k,{})]})]}),e.jsx(I,{table:t})]})}function O({columns:t,data:a,filterKey:p,meta:l}){var g;const[r,m]=n.useState({}),[j,b]=n.useState({}),[v,w]=n.useState([]),[C,S]=n.useState([]),i=y({data:a,columns:t,meta:l,state:{sorting:C,columnVisibility:j,rowSelection:r,columnFilters:v},enableRowSelection:!0,onRowSelectionChange:m,onSortingChange:S,onColumnFiltersChange:w,onColumnVisibilityChange:b,getCoreRowModel:V(),getFilteredRowModel:D(),getPaginationRowModel:M(),getSortedRowModel:P(),getFacetedRowModel:F(),getFacetedUniqueValues:T()});return e.jsxs("div",{className:"space-y-4",children:[e.jsx($,{table:i,onResetSearch:()=>i.setGlobalFilter("")}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(B,{children:[e.jsx(K,{children:i.getHeaderGroups().map(o=>e.jsx(d,{children:o.headers.map(s=>e.jsx(E,{colSpan:s.colSpan,children:s.isPlaceholder?null:x(s.column.columnDef.header,s.getContext())},s.id))},o.id))}),e.jsx(H,{children:(g=i.getRowModel().rows)!=null&&g.length?i.getRowModel().rows.map(o=>e.jsx(d,{"data-state":o.getIsSelected()&&"selected",children:o.getVisibleCells().map(s=>e.jsx(h,{children:x(s.column.columnDef.cell,s.getContext())},s.id))},o.id)):e.jsx(d,{children:e.jsx(h,{colSpan:t.length,className:"h-24 text-center",children:"No results."})})})]})}),e.jsx(L,{table:i})]})}const X=[{accessorKey:"title",header:"Título"},{accessorKey:"slug",header:"Slug"},{accessorKey:"template",header:"Plantilla",cell:({row:t})=>({default:"Por defecto",landing:"Landing",about:"Acerca de Nosotros",contact:"Contáctanos",services:"Servicios",portfolio:"Portafolio"})[t.original.template]||t.original.template},{accessorKey:"is_active",header:"Estado",cell:({row:t})=>e.jsx(A,{variant:t.original.is_active?"default":"secondary",children:t.original.is_active?"Activa":"Inactiva"})},{id:"actions",cell:({row:t})=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(c,{variant:"ghost",size:"sm",asChild:!0,children:e.jsx(f,{href:`/admin/pages/${t.original.id}/edit`,children:e.jsx(G,{className:"h-4 w-4"})})}),e.jsx(c,{variant:"ghost",size:"sm",onClick:()=>{confirm("¿Estás seguro de eliminar esta página?")&&R.delete(`/admin/pages/${t.original.id}`)},children:e.jsx(U,{className:"h-4 w-4 text-red-500"})})]})}];function ze({pages:t,templates:a}){return e.jsxs(q,{children:[e.jsx(N,{title:"Gestión de páginas"}),e.jsxs("div",{className:"hidden h-full flex-1 flex-col space-y-8 p-8 md:flex",children:[e.jsxs("div",{className:"flex items-center justify-between space-y-2",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold tracking-tight",children:"Todos las pagina"}),e.jsx("p",{className:"text-muted-foreground",children:"Lista completa de paginas"})]}),e.jsx(c,{asChild:!0,children:e.jsxs(f,{href:route("admin.pages.create"),children:[e.jsx(z,{className:"mr-2 h-4 w-4"}),"Nueva página"]})})]}),e.jsx(O,{columns:X,data:t.data,total:t.total,searchKey:"title"})]})]})}export{ze as default};
