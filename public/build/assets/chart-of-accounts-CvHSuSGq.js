import{r as v,j as e,H as V}from"./app-DQczwFTk.js";import{C as o,a as d,b as m,d as p,c as G}from"./card-BNPG6E-E.js";import{B as b}from"./button-BYXnJyXv.js";import{I as H}from"./input-goWATpHJ.js";import{B as N}from"./badge-CIPxAGrn.js";import{T as M,a as $,b as C,c as i,d as z,e as l}from"./table-J6M9UKS6.js";import{D as F,a as Q,b as k,c as f}from"./dropdown-menu-DWIT9g2E.js";import{S as _,a as J,b as K,c as U,d as n}from"./select-D52pRjk-.js";import{A as W}from"./app-layout-CxNCz1W0.js";import{P as S}from"./plus-BGuKkasZ.js";import{S as X}from"./search-DPYN2drD.js";import{C as Y}from"./chevron-down-Bqmppv4h.js";import{C as Z}from"./app-sidebar-layout-DjIGW_b8.js";import{E as ee}from"./ellipsis-YiHoVY6K.js";import{S as se}from"./square-pen-NJFtVg51.js";import{T as te}from"./trash-2-b2Qe_qpo.js";import"./app-C-su-A41.js";import"./utils-CPN-yreq.js";import"./index-D2mu7mBH.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-BfMh8EvQ.js";import"./index-DSuT5VJt.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-BVHM8iLO.js";import"./index-CJpv9kZ5.js";import"./index-7Ou4doz_.js";import"./index-CX1ZUDb2.js";import"./tenant-status-listener-Bzjk6yNz.js";import"./index-Cou6Ygo0.js";import"./toast-lvG1LsW6.js";import"./cookie-consent-DYpW6VIi.js";import"./index-DcW1-0jE.js";import"./x-CNv1352c.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./app-logo-icon-2MFPo7KO.js";function Xe({accounts:c=[{id:"1",code:"1000",name:"ACTIVOS",type:"asset",level:1,balance:25e4,isActive:!0,description:"Bienes y derechos de la empresa",children:[{id:"2",code:"1100",name:"ACTIVOS CORRIENTES",type:"asset",level:2,parentId:"1",balance:15e4,isActive:!0,description:"Activos líquidos o convertibles en efectivo",children:[{id:"3",code:"1110",name:"Caja y Bancos",type:"asset",level:3,parentId:"2",balance:45e3,isActive:!0,description:"Efectivo y depósitos bancarios"},{id:"4",code:"1120",name:"Cuentas por Cobrar",type:"asset",level:3,parentId:"2",balance:85e3,isActive:!0,description:"Deudas de clientes"}]}]},{id:"5",code:"2000",name:"PASIVOS",type:"liability",level:1,balance:12e4,isActive:!0,description:"Obligaciones y deudas de la empresa",children:[{id:"6",code:"2100",name:"PASIVOS CORRIENTES",type:"liability",level:2,parentId:"5",balance:8e4,isActive:!0,description:"Obligaciones a corto plazo",children:[{id:"7",code:"2110",name:"Cuentas por Pagar",type:"liability",level:3,parentId:"6",balance:5e4,isActive:!0,description:"Deudas con proveedores"}]}]},{id:"8",code:"3000",name:"PATRIMONIO",type:"equity",level:1,balance:13e4,isActive:!0,description:"Capital y reservas de la empresa"},{id:"9",code:"4000",name:"INGRESOS",type:"income",level:1,balance:18e4,isActive:!0,description:"Ingresos por ventas y servicios"},{id:"10",code:"5000",name:"GASTOS",type:"expense",level:1,balance:95e3,isActive:!0,description:"Gastos operacionales y administrativos"}]}){const[x,w]=v.useState(""),[h,A]=v.useState("all"),[g,T]=v.useState(new Set(["1","2","5","6"])),E=s=>{switch(s){case"asset":return"bg-green-100 text-green-800";case"liability":return"bg-red-100 text-red-800";case"equity":return"bg-blue-100 text-blue-800";case"income":return"bg-purple-100 text-purple-800";case"expense":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},I=s=>{switch(s){case"asset":return"Activo";case"liability":return"Pasivo";case"equity":return"Patrimonio";case"income":return"Ingreso";case"expense":return"Gasto";default:return s}},P=s=>{const t=new Set(g);t.has(s)?t.delete(s):t.add(s),T(t)},y=s=>{var r;const t=s.children&&s.children.length>0,a=g.has(s.id),j=s.level*20;return e.jsxs(e.Fragment,{children:[e.jsxs(C,{children:[e.jsx(l,{children:e.jsxs("div",{className:"flex items-center",style:{paddingLeft:`${j}px`},children:[t&&e.jsx(b,{variant:"ghost",size:"sm",className:"h-6 w-6 p-0 mr-2",onClick:()=>P(s.id),children:a?e.jsx(Y,{className:"h-4 w-4"}):e.jsx(Z,{className:"h-4 w-4"})}),e.jsx("span",{className:"font-mono font-medium",children:s.code})]})}),e.jsx(l,{children:e.jsx("div",{style:{paddingLeft:t?"0px":"28px"},children:e.jsx("span",{className:"font-medium",children:s.name})})}),e.jsx(l,{children:e.jsx(N,{className:E(s.type),children:I(s.type)})}),e.jsxs(l,{className:"text-right font-medium",children:["$",s.balance.toLocaleString()]}),e.jsx(l,{children:e.jsx(N,{variant:s.isActive?"default":"secondary",children:s.isActive?"Activa":"Inactiva"})}),e.jsx(l,{children:e.jsxs(F,{children:[e.jsx(Q,{asChild:!0,children:e.jsx(b,{variant:"ghost",size:"icon",children:e.jsx(ee,{className:"h-4 w-4"})})}),e.jsxs(k,{align:"end",children:[e.jsxs(f,{children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Editar"]}),e.jsxs(f,{children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Agregar Subcuenta"]}),e.jsxs(f,{className:"text-red-600",children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})})]},s.id),t&&a&&((r=s.children)==null?void 0:r.map(B=>y(B)))]})},u=s=>{const t=[],a=j=>{j.forEach(r=>{t.push(r),r.children&&a(r.children)})};return a(s),t},O=c.filter(s=>{const t=s.code.toLowerCase().includes(x.toLowerCase())||s.name.toLowerCase().includes(x.toLowerCase()),a=h==="all"||s.type===h;return t&&a}),L=u(c).filter(s=>s.type==="asset").reduce((s,t)=>s+t.balance,0),R=u(c).filter(s=>s.type==="liability").reduce((s,t)=>s+t.balance,0),q=u(c).filter(s=>s.type==="equity").reduce((s,t)=>s+t.balance,0),D=[{title:"Plan de cuenta",href:"/finanzas/chart-of-statements"}];return e.jsxs(W,{breadcrumbs:D,children:[e.jsx(V,{title:"Plan de cuenta"}),e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Plan de Cuentas"}),e.jsx("p",{className:"text-gray-600",children:"Estructura contable de la empresa"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsxs(o,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(m,{className:"text-sm font-medium",children:"Total Activos"})}),e.jsx(p,{children:e.jsxs("div",{className:"text-2xl font-bold text-green-600",children:["$",L.toLocaleString()]})})]}),e.jsxs(o,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(m,{className:"text-sm font-medium",children:"Total Pasivos"})}),e.jsx(p,{children:e.jsxs("div",{className:"text-2xl font-bold text-red-600",children:["$",R.toLocaleString()]})})]}),e.jsxs(o,{children:[e.jsx(d,{className:"pb-2",children:e.jsx(m,{className:"text-sm font-medium",children:"Patrimonio"})}),e.jsx(p,{children:e.jsxs("div",{className:"text-2xl font-bold text-blue-600",children:["$",q.toLocaleString()]})})]})]}),e.jsxs(o,{children:[e.jsx(d,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(m,{children:"Cuentas Contables"}),e.jsx(G,{children:"Estructura jerárquica del plan de cuentas"})]}),e.jsxs(b,{children:[e.jsx(S,{className:"mr-2 h-4 w-4"}),"Nueva Cuenta"]})]})}),e.jsxs(p,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(X,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(H,{placeholder:"Buscar cuentas...",value:x,onChange:s=>w(s.target.value),className:"pl-10"})]}),e.jsxs(_,{value:h,onValueChange:A,children:[e.jsx(J,{className:"w-full sm:w-48",children:e.jsx(K,{placeholder:"Tipo de cuenta"})}),e.jsxs(U,{children:[e.jsx(n,{value:"all",children:"Todos los tipos"}),e.jsx(n,{value:"asset",children:"Activos"}),e.jsx(n,{value:"liability",children:"Pasivos"}),e.jsx(n,{value:"equity",children:"Patrimonio"}),e.jsx(n,{value:"income",children:"Ingresos"}),e.jsx(n,{value:"expense",children:"Gastos"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(M,{children:[e.jsx($,{children:e.jsxs(C,{children:[e.jsx(i,{children:"Código"}),e.jsx(i,{children:"Nombre"}),e.jsx(i,{children:"Tipo"}),e.jsx(i,{className:"text-right",children:"Saldo"}),e.jsx(i,{children:"Estado"}),e.jsx(i,{className:"w-12"})]})}),e.jsx(z,{children:O.map(s=>y(s))})]})})]})]})]})})]})}export{Xe as default};
