import{r as h,j as e}from"./app-DQczwFTk.js";import"./app-C-su-A41.js";function _({footer:u,templates:d,menus:j,menuItems:b,onSave:v}){var f;const[s,i]=h.useState(u),[p,n]=h.useState(!1);h.useEffect(()=>{i(u),n(!1)},[u]);const g=t=>{const{name:a,value:l}=t.target;i(r=>({...r,[a]:l})),n(!0)},m=(t,a)=>{i(l=>({...l,content:{...l.content,[t]:a}})),n(!0)},N=t=>{const a=t.target.value;i(l=>({...l,template:a,content:d[a].default_content})),n(!0)},y=t=>{t.preventDefault(),v(s),n(!1)};return e.jsx("div",{className:"footer-editor space-y-6",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"col-span-1 space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Nombre del Footer"}),e.jsx("input",{type:"text",name:"name",value:s.name,onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Plantilla"}),e.jsx("select",{value:s.template,onChange:N,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:Object.entries(d).map(([t,a])=>e.jsx("option",{value:t,children:a.name},t))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Menú asociado"}),e.jsxs("select",{name:"menu_id",value:s.menu_id||"",onChange:g,className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[e.jsx("option",{value:"",children:"Sin menú"}),j.map(t=>e.jsx("option",{value:t.id,children:t.title},t.id))]})]}),s.template&&d[s.template]&&e.jsx("div",{className:"space-y-4",children:Object.entries(d[s.template].default_content).map(([t,a])=>{var l;return e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-medium text-gray-700 capitalize",children:t.replace("_"," ")}),typeof a=="string"?e.jsx("input",{type:"text",value:s.content[t]||"",onChange:r=>m(t,r.target.value),className:"mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500"}):Array.isArray(a)?e.jsxs("div",{className:"space-y-2",children:[(l=s.content[t])==null?void 0:l.map((r,c)=>e.jsxs("div",{className:"flex space-x-2",children:[e.jsx("input",{type:"text",value:r.text||"",onChange:x=>{const o=[...s.content[t]];o[c].text=x.target.value,m(t,o)},className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"Texto"}),e.jsx("input",{type:"text",value:r.url||"",onChange:x=>{const o=[...s.content[t]];o[c].url=x.target.value,m(t,o)},className:"flex-1 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500",placeholder:"URL"})]},c)),e.jsx("button",{type:"button",onClick:()=>{const r=[...s.content[t],{text:"",url:""}];m(t,r)},className:"text-sm text-blue-600 hover:text-blue-800",children:"+ Añadir elemento"})]}):null]},t)})})]}),e.jsx("div",{className:"col-span-2",children:e.jsxs("div",{className:"bg-white p-6 rounded-lg shadow",children:[e.jsx("h2",{className:"text-xl font-bold mb-4",children:"Vista previa del footer"}),s.template==="template1"&&e.jsxs("div",{className:"template1-preview",children:[e.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center",children:[e.jsxs("div",{className:"mb-6 md:mb-0",children:[s.logo_path&&e.jsx("img",{src:s.logo_path,alt:"Logo",className:"h-12"}),e.jsx("p",{className:"mt-2 text-gray-600",children:s.content.about})]}),s.menu_id&&s.content.use_menu&&b.length>0&&e.jsx("nav",{className:"flex flex-wrap justify-center gap-6",children:b.map(t=>e.jsx("a",{href:t.url,className:"text-gray-700 hover:text-blue-600",children:t.label},t.id))})]}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center text-gray-500",children:s.content.copyright})]}),s.template==="template2"&&e.jsxs("div",{className:"template2-preview",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:(f=s.content.columns)==null?void 0:f.map((t,a)=>{var l;return e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-medium mb-4",children:t.title}),e.jsx("ul",{className:"space-y-2",children:(l=t.links)==null?void 0:l.map((r,c)=>e.jsx("li",{children:e.jsx("a",{href:r.url,className:"text-gray-600 hover:text-blue-600",children:r.text})},c))})]},a)})}),e.jsx("div",{className:"mt-8 pt-8 border-t border-gray-200 text-center text-gray-500",children:s.content.copyright})]})]})})]}),e.jsx("div",{className:"flex justify-end",children:e.jsx("button",{type:"submit",disabled:!p,className:`px-4 py-2 rounded-md text-white ${p?"bg-blue-600 hover:bg-blue-700":"bg-gray-400 cursor-not-allowed"}`,children:"Guardar Cambios"})})]})})}export{_ as default};
