import{r as x,j as e}from"./app-DQczwFTk.js";import{C as n,a as i,b as c,d as o,c as v}from"./card-BNPG6E-E.js";import{B as E}from"./button-BYXnJyXv.js";import{I as H}from"./input-goWATpHJ.js";import{B as w}from"./badge-CIPxAGrn.js";import{T as Q,a as G,b,c as t,d as $,e as l}from"./table-J6M9UKS6.js";import{D as K,a as U,b as X,c as d}from"./dropdown-menu-DWIT9g2E.js";import{S as y,a as S,b as P,c as A,d as r}from"./select-D52pRjk-.js";import{P as D}from"./progress-C7MkEavy.js";import{A as T}from"./app-sidebar-layout-DjIGW_b8.js";import{C as F}from"./clock-BUIFzQLb.js";import{P as u,a as Y}from"./play-CqSX5RQE.js";import{C as Z}from"./circle-check-big-DhhsJsf9.js";import{c as I}from"./createLucideIcon-D40S4Mwt.js";import{P as ee}from"./plus-BGuKkasZ.js";import{S as se}from"./search-DPYN2drD.js";import{E as ae}from"./ellipsis-YiHoVY6K.js";import{E as re}from"./eye-CUZrYUKa.js";import{S as te}from"./square-pen-NJFtVg51.js";import"./app-C-su-A41.js";import"./utils-CPN-yreq.js";import"./index-D2mu7mBH.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-BfMh8EvQ.js";import"./index-DSuT5VJt.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-BVHM8iLO.js";import"./index-CJpv9kZ5.js";import"./index-7Ou4doz_.js";import"./index-CX1ZUDb2.js";import"./chevron-down-Bqmppv4h.js";import"./index-DcW1-0jE.js";import"./x-CNv1352c.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./app-logo-icon-2MFPo7KO.js";import"./toast-lvG1LsW6.js";import"./index-Cou6Ygo0.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const le=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],ne=I("CircleStop",le);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ie=[["polygon",{points:"13 19 22 12 13 5 13 19",key:"587y9g"}],["polygon",{points:"2 19 11 12 2 5 2 19",key:"3pweh0"}]],ce=I("FastForward",ie);function ls({stages:m=[{id:"PS-001",processName:"Fabricación Escritorio Ejecutivo",stageName:"Corte de Materiales",workCenter:"WC-CARPINTERIA",assignedTo:"Operador Juan Pérez",startDate:"2024-01-15",plannedEndDate:"2024-01-16",actualEndDate:"2024-01-16",status:"completed",progress:100},{id:"PS-002",processName:"Fabricación Escritorio Ejecutivo",stageName:"Ensamblaje",workCenter:"WC-ENSAMBLAJE",assignedTo:"Equipo Ensamblaje A",startDate:"2024-01-16",plannedEndDate:"2024-01-18",status:"in_progress",progress:75,notes:"Esperando herrajes faltantes para 5 unidades."},{id:"PS-003",processName:"Fabricación Escritorio Ejecutivo",stageName:"Acabado y Barnizado",workCenter:"WC-ACABADO",assignedTo:"Operador María García",startDate:"2024-01-18",plannedEndDate:"2024-01-20",status:"pending",progress:0},{id:"PS-004",processName:"Fabricación Silla Ergonómica",stageName:"Tapizado",workCenter:"WC-TAPICERIA",assignedTo:"Equipo Tapicería B",startDate:"2024-01-10",plannedEndDate:"2024-01-12",actualEndDate:"2024-01-13",status:"completed",progress:100},{id:"PS-005",processName:"Fabricación Silla Ergonómica",stageName:"Ensamblaje Final",workCenter:"WC-ENSAMBLAJE",assignedTo:"Equipo Ensamblaje B",startDate:"2024-01-13",plannedEndDate:"2024-01-15",status:"paused",progress:50,notes:"Pausa por mantenimiento de máquina."}]}){const[p,k]=x.useState(""),[h,B]=x.useState("all"),[j,L]=x.useState("all"),[a,W]=x.useState(null),[g,oe]=x.useState(null),N=s=>{switch(s){case"pending":return"bg-blue-100 text-blue-800";case"in_progress":return"bg-yellow-100 text-yellow-800";case"paused":return"bg-orange-100 text-orange-800";case"completed":return"bg-green-100 text-green-800";case"on_hold":return"bg-red-100 text-red-800";case"cancelled":return"bg-gray-100 text-gray-800";default:return"bg-gray-100 text-gray-800"}},f=s=>{switch(s){case"pending":return"Pendiente";case"in_progress":return"En Proceso";case"paused":return"Pausada";case"completed":return"Completada";case"on_hold":return"En Espera";case"cancelled":return"Cancelada";default:return s}},R=m.filter(s=>{const J=s.processName.toLowerCase().includes(p.toLowerCase())||s.stageName.toLowerCase().includes(p.toLowerCase())||s.assignedTo.toLowerCase().includes(p.toLowerCase()),O=h==="all"||s.status===h,V=j==="all"||s.workCenter===j;return J&&O&&V}),_=m.length,M=m.filter(s=>s.status==="in_progress").length,z=m.filter(s=>s.status==="completed").length,q=m.filter(s=>s.status==="pending").length,C=[{title:"Inicio",href:"/"},{title:"Productos",href:"/products"}];return g?e.jsx(T,{breadcrumbs:C,children:e.jsx("div",{className:"p-4 text-center text-red-500",children:g})}):e.jsx(T,{breadcrumbs:C,children:e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Control de Procesos por Etapas"}),e.jsx("p",{className:"text-gray-600",children:"Monitoreo y gestión del progreso de cada etapa de producción"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(n,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Total Etapas"}),e.jsx(F,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold",children:_}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Etapas registradas"})]})]}),e.jsxs(n,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"En Proceso"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold text-yellow-600",children:M}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Actualmente activas"})]})]}),e.jsxs(n,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Completadas"}),e.jsx(Z,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:z}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Etapas finalizadas"})]})]}),e.jsxs(n,{children:[e.jsxs(i,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(c,{className:"text-sm font-medium",children:"Pendientes"}),e.jsx(ce,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(o,{children:[e.jsx("div",{className:"text-2xl font-bold text-blue-600",children:q}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Por iniciar"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(n,{children:[e.jsx(i,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(c,{children:"Lista de Etapas de Proceso"}),e.jsx(v,{children:"Todas las etapas de producción"})]}),e.jsxs(E,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Nueva Etapa"]})]})}),e.jsxs(o,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(se,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(H,{placeholder:"Buscar proceso, etapa o asignado...",value:p,onChange:s=>k(s.target.value),className:"pl-10"})]}),e.jsxs(y,{value:h,onValueChange:B,children:[e.jsx(S,{className:"w-full sm:w-32",children:e.jsx(P,{placeholder:"Estado"})}),e.jsxs(A,{children:[e.jsx(r,{value:"all",children:"Todos"}),e.jsx(r,{value:"pending",children:"Pendiente"}),e.jsx(r,{value:"in_progress",children:"En Proceso"}),e.jsx(r,{value:"paused",children:"Pausada"}),e.jsx(r,{value:"completed",children:"Completada"}),e.jsx(r,{value:"on_hold",children:"En Espera"}),e.jsx(r,{value:"cancelled",children:"Cancelada"})]})]}),e.jsxs(y,{value:j,onValueChange:L,children:[e.jsx(S,{className:"w-full sm:w-40",children:e.jsx(P,{placeholder:"Centro de Trabajo"})}),e.jsxs(A,{children:[e.jsx(r,{value:"all",children:"Todos"}),e.jsx(r,{value:"WC-CARPINTERIA",children:"WC-CARPINTERIA"}),e.jsx(r,{value:"WC-ENSAMBLAJE",children:"WC-ENSAMBLAJE"}),e.jsx(r,{value:"WC-ACABADO",children:"WC-ACABADO"}),e.jsx(r,{value:"WC-TAPICERIA",children:"WC-TAPICERIA"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(Q,{children:[e.jsx(G,{children:e.jsxs(b,{children:[e.jsx(t,{children:"Proceso"}),e.jsx(t,{children:"Etapa"}),e.jsx(t,{children:"Centro de Trabajo"}),e.jsx(t,{children:"Asignado"}),e.jsx(t,{children:"Progreso"}),e.jsx(t,{children:"Estado"}),e.jsx(t,{className:"w-12"})]})}),e.jsx($,{children:R.map(s=>e.jsxs(b,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>W(s),children:[e.jsx(l,{className:"font-medium",children:s.processName}),e.jsx(l,{children:s.stageName}),e.jsx(l,{children:s.workCenter}),e.jsx(l,{children:s.assignedTo}),e.jsx(l,{children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex justify-between text-sm",children:e.jsxs("span",{children:[s.progress,"%"]})}),e.jsx(D,{value:s.progress,className:"h-2"})]})}),e.jsx(l,{children:e.jsx(w,{className:N(s.status),children:f(s.status)})}),e.jsx(l,{children:e.jsxs(K,{children:[e.jsx(U,{asChild:!0,children:e.jsx(E,{variant:"ghost",size:"icon",children:e.jsx(ae,{className:"h-4 w-4"})})}),e.jsxs(X,{align:"end",children:[e.jsxs(d,{children:[e.jsx(re,{className:"mr-2 h-4 w-4"}),"Ver Detalles"]}),e.jsxs(d,{children:[e.jsx(te,{className:"mr-2 h-4 w-4"}),"Editar"]}),s.status==="pending"&&e.jsxs(d,{children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"Iniciar"]}),s.status==="in_progress"&&e.jsxs(e.Fragment,{children:[e.jsxs(d,{children:[e.jsx(Y,{className:"mr-2 h-4 w-4"}),"Pausar"]}),e.jsxs(d,{children:[e.jsx(ne,{className:"mr-2 h-4 w-4"}),"Finalizar"]})]}),s.status==="paused"&&e.jsxs(d,{children:[e.jsx(u,{className:"mr-2 h-4 w-4"}),"Reanudar"]})]})]})})]},s.id))})]})})]})]})}),e.jsx("div",{children:e.jsxs(n,{children:[e.jsxs(i,{children:[e.jsx(c,{children:"Detalles de Etapa"}),e.jsx(v,{children:a?a.stageName:"Selecciona una etapa"})]}),e.jsx(o,{children:a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Proceso:"}),e.jsx("div",{children:a.processName})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Centro de Trabajo:"}),e.jsx("div",{children:a.workCenter})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Asignado a:"}),e.jsx("div",{children:a.assignedTo})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Fecha Inicio:"}),e.jsx("div",{children:new Date(a.startDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Fecha Fin Planificada:"}),e.jsx("div",{children:new Date(a.plannedEndDate).toLocaleDateString()})]}),a.actualEndDate&&e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Fecha Fin Real:"}),e.jsx("div",{children:new Date(a.actualEndDate).toLocaleDateString()})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Progreso:"}),e.jsx(D,{value:a.progress,className:"h-2 mt-1"}),e.jsxs("span",{className:"text-sm text-gray-600",children:[a.progress,"%"]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Estado:"}),e.jsx("div",{children:e.jsx(w,{className:N(a.status),children:f(a.status)})})]})]}),a.notes&&e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Notas:"}),e.jsx("div",{className:"bg-yellow-50 p-3 rounded text-sm",children:a.notes})]})]}):e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(F,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("div",{children:"Selecciona una etapa para ver los detalles"})]})})]})})]})]})})})}export{ls as default};
