import{r as p,u as ae,j as e}from"./app-DQczwFTk.js";import{B as L}from"./button-BYXnJyXv.js";import{C as N,a as b,b as C,d as w}from"./card-BNPG6E-E.js";import{I as c}from"./input-goWATpHJ.js";import{L as l}from"./label-BchK1h47.js";import{S as oe,a as ie,b as le,c as ce,d as ne}from"./select-D52pRjk-.js";import{T as y}from"./textarea-DHAakLHN.js";import{A as O,b as $}from"./alert-C2Fc1m40.js";import{B as M}from"./badge-CIPxAGrn.js";import{P as W}from"./progress-C7MkEavy.js";import{A as de,a as me}from"./app-sidebar-layout-DjIGW_b8.js";import{t as d}from"./index-Cou6Ygo0.js";import{F as X}from"./file-text-mqHhLRuK.js";import{X as pe}from"./x-CNv1352c.js";import{U as xe}from"./upload-CveXEXwr.js";import{S as G}from"./shield-BhSokjS6.js";import{c as V}from"./createLucideIcon-D40S4Mwt.js";import{C as R}from"./circle-check-big-DhhsJsf9.js";import{C as K}from"./circle-x-DYOtRzZk.js";import{P as J}from"./printer-D8W0eBr-.js";import{S as he}from"./save-Cg27bxM4.js";import"./app-C-su-A41.js";import"./index-D2mu7mBH.js";import"./utils-CPN-yreq.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-BBPPPnEU.js";import"./index-BfMh8EvQ.js";import"./index-KJ4lOR0W.js";import"./index-DSuT5VJt.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-7Ou4doz_.js";import"./index-CX1ZUDb2.js";import"./chevron-down-Bqmppv4h.js";import"./index-DcW1-0jE.js";import"./index-BVHM8iLO.js";import"./dropdown-menu-DWIT9g2E.js";import"./index-CJpv9kZ5.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./dollar-sign-OeXEXPCy.js";import"./search-DPYN2drD.js";import"./app-logo-icon-2MFPo7KO.js";import"./toast-lvG1LsW6.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ue=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],fe=V("RotateCcw",ue);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]],je=V("TestTube",ge);function gs({settings:t,modes:I}){var U;const[f,S]=p.useState(null),[x,P]=p.useState(null),[k,A]=p.useState(!1),[_e,H]=p.useState(!1),[D,g]=p.useState(t.logo_path?`/${t.logo_path}`:null),[h,F]=p.useState(!1),[j,_]=p.useState(0),[z,v]=p.useState(null),[ve,Ne]=p.useState(!1),{data:a,setData:i,post:Q,processing:T,errors:r}=ae({company_name:t.company_name||"",business_name:t.business_name||"",trade_name:t.trade_name||"",ruc:t.ruc||"",address:t.address||"",ubigeo:t.ubigeo||"",department:t.department||"",province:t.province||"",district:t.district||"",company_phone:t.company_phone||"",company_email:t.company_email||"",logo:null,sunat_mode:t.sunat_mode||"beta",certificate:null,certificate_password:t.certificate_password||"",sol_user:t.sol_user||"",sol_pass:t.sol_pass||"",endpoint_fe:t.endpoint_fe||"",endpoint_guia:t.endpoint_guia||"",endpoint_retenciones:t.endpoint_retenciones||"",invoice_series:t.invoice_series||"F001",receipt_series:t.receipt_series||"B001",credit_note_series:t.credit_note_series||"FC01",debit_note_series:t.debit_note_series||"FD01",invoice_footer:t.invoice_footer||"",receipt_footer:t.receipt_footer||"",note_footer:t.note_footer||"",report_header:t.report_header||"",report_footer:t.report_footer||""});p.useEffect(()=>{if(t.certificate_path){q();const s=t.certificate_path.toLowerCase();s.endsWith(".pem")||s.endsWith(".crt")?v("pem"):(s.endsWith(".pfx")||s.endsWith(".p12"))&&v("pfx")}(t.endpoint_fe||t.endpoint_guia||t.endpoint_retenciones)&&H(!0)},[]);const Y=s=>{s.preventDefault(),Q("/settings",{onSuccess:()=>{d.success("Configuración actualizada correctamente"),a.certificate&&q()},onError:()=>{d.error("Error al actualizar la configuración")}})},B=(s,m)=>{if(s.target.files&&s.target.files[0]){const o=s.target.files[0];if(i(m,o),m==="certificate"){S(null);const n=o.name.toLowerCase();n.endsWith(".pem")||n.endsWith(".crt")?(v("pem"),i("certificate_password","")):n.endsWith(".pfx")||n.endsWith(".p12")?v("pfx"):v(null)}else if(m==="logo"){const n=new FileReader;n.onload=u=>{var E;g((E=u.target)==null?void 0:E.result)},n.readAsDataURL(o),Z(o)}}},Z=async s=>{var o;F(!0),_(0);const m=new FormData;m.append("logo",s),m.append("_token",((o=document.querySelector('meta[name="csrf-token"]'))==null?void 0:o.getAttribute("content"))||"");try{const n=new XMLHttpRequest;n.upload.addEventListener("progress",u=>{if(u.lengthComputable){const E=u.loaded/u.total*100;_(E)}}),n.addEventListener("load",()=>{if(n.status===200){const u=JSON.parse(n.responseText);u.success?(d.success("Logo actualizado correctamente"),i("logo",null),window.location.reload()):(d.error(u.message||"Error al subir el logo"),g(t.logo_path?`/storage/${t.logo_path}`:null))}else d.error("Error al subir el logo"),g(t.logo_path?`/storage/${t.logo_path}`:null);F(!1),_(0)}),n.addEventListener("error",()=>{d.error("Error de red al subir el logo"),g(t.logo_path?`/storage/${t.logo_path}`:null),F(!1),_(0)}),n.open("POST","/settings/upload-logo"),n.send(m)}catch{d.error("Error al subir el logo"),g(t.logo_path?`/storage/${t.logo_path}`:null),F(!1),_(0)}},ee=async()=>{var s;try{const o=await(await fetch("/settings/remove-logo",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}})).json();o.success?(g(null),i("logo",null),d.success("Logo eliminado correctamente")):d.error(o.message||"Error al eliminar el logo")}catch{d.error("Error al eliminar el logo")}},se=async()=>{var s;if(!a.ruc||!a.sol_user||!a.sol_pass){d.error("Por favor complete las credenciales SUNAT");return}A(!0);try{const o=await(await fetch("/settings/test-sunat-connection",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""},body:JSON.stringify({ruc:a.ruc,sol_user:a.sol_user,sol_pass:a.sol_pass,sunat_mode:a.sunat_mode})})).json();o.success?(P({connected:!0,environment:o.data.environment,timestamp:o.data.timestamp,message:o.message}),d.success("Conexión exitosa con SUNAT")):(P({connected:!1,message:o.message}),d.error("Error en la conexión: "+o.message))}catch{P({connected:!1,message:"Error de red al conectar con SUNAT"}),d.error("Error de red al conectar con SUNAT")}finally{A(!1)}},q=async()=>{var s;try{const o=await(await fetch("/settings/certificate-info",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":((s=document.querySelector('meta[name="csrf-token"]'))==null?void 0:s.getAttribute("content"))||""}})).json();o.success?S({exists:o.data.exists,size:o.data.size,last_modified:o.data.last_modified,valid:!0}):S({exists:!1,valid:!1})}catch{S({exists:!1,valid:!1})}},re=s=>{const m=["Bytes","KB","MB","GB"];if(s===0)return"0 Bytes";const o=Math.floor(Math.log(s)/Math.log(1024));return Math.round(s/Math.pow(1024,o)*100)/100+" "+m[o]},te=s=>{switch(s){case"production":return"bg-green-100 text-green-800";case"beta":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}};return e.jsx(de,{children:e.jsxs("div",{className:"container mx-auto p-6 space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[e.jsx(me,{className:"h-8 w-8"}),"Configuración de Facturación Electrónica"]}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Configure su sistema de facturación electrónica para SRI"})]}),e.jsx(M,{className:te(a.sunat_mode),children:((U=I.find(s=>s.value===a.sunat_mode))==null?void 0:U.label)||"No configurado"})]}),e.jsxs("form",{onSubmit:Y,className:"space-y-6",children:[e.jsxs(N,{children:[e.jsx(b,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Datos de la Empresa"]})}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"business_name",children:"Razón Social *"}),e.jsx(c,{id:"business_name",value:a.business_name,onChange:s=>i("business_name",s.target.value),placeholder:"Razón social según SRI",className:r.business_name?"border-red-500":""}),r.business_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.business_name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"trade_name",children:"Nombre Comercial"}),e.jsx(c,{id:"trade_name",value:a.trade_name,onChange:s=>i("trade_name",s.target.value),placeholder:"Nombre comercial de la empresa",className:r.trade_name?"border-red-500":""}),r.trade_name&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.trade_name})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"ruc",children:"RUC *"}),e.jsx(c,{id:"ruc",value:a.ruc,onChange:s=>i("ruc",s.target.value),placeholder:"20123456789",maxLength:13,className:r.ruc?"border-red-500":""}),r.ruc&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.ruc})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"company_email",children:"Email"}),e.jsx(c,{id:"company_email",type:"email",value:a.company_email,onChange:s=>i("company_email",s.target.value),placeholder:"empresa@ejemplo.com",className:r.company_email?"border-red-500":""}),r.company_email&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.company_email})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"address",children:"Dirección Fiscal *"}),e.jsx(c,{id:"address",value:a.address,onChange:s=>i("address",s.target.value),placeholder:"Dirección completa según SRI",className:r.address?"border-red-500":""}),r.address&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.address})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"ubigeo",children:"Cod Postal *"}),e.jsx(c,{id:"ubigeo",value:a.ubigeo,onChange:s=>i("ubigeo",s.target.value),placeholder:"150101",maxLength:6,className:r.ubigeo?"border-red-500":""}),r.ubigeo&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.ubigeo})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"department",children:"Provincia *"}),e.jsx(c,{id:"department",value:a.department,onChange:s=>i("department",s.target.value),placeholder:"LIMA",className:r.department?"border-red-500":""}),r.department&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.department})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"province",children:"Canton *"}),e.jsx(c,{id:"province",value:a.province,onChange:s=>i("province",s.target.value),placeholder:"LIMA",className:r.province?"border-red-500":""}),r.province&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.province})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"district",children:"Ciudad *"}),e.jsx(c,{id:"district",value:a.district,onChange:s=>i("district",s.target.value),placeholder:"LIMA",className:r.district?"border-red-500":""}),r.district&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.district})]})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"logo",children:"Logo de la Empresa"}),e.jsxs("div",{className:"space-y-4",children:[D&&e.jsx("div",{className:"relative inline-block",children:e.jsxs("div",{className:"relative w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg overflow-hidden bg-gray-50",children:[e.jsx("img",{src:D,alt:"Logo preview",className:"w-full h-full object-contain"}),h&&e.jsx("div",{className:"absolute inset-0 bg-black bg-opacity-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-white text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-white mx-auto mb-2"}),e.jsxs("div",{className:"text-sm",children:[Math.round(j),"%"]})]})}),e.jsx("button",{type:"button",onClick:ee,className:"absolute top-1 right-1 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center hover:bg-red-600 transition-colors",disabled:h,children:e.jsx(pe,{className:"h-4 w-4"})})]})}),h&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{value:j,className:"w-full"}),e.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:["Subiendo logo... ",Math.round(j),"%"]})]}),e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(c,{id:"logo",type:"file",accept:"image/*",onChange:s=>B(s,"logo"),className:`flex-1 ${r.logo?"border-red-500":""}`,disabled:h}),h&&e.jsxs("div",{className:"flex items-center gap-2 text-sm text-blue-600",children:[e.jsx(xe,{className:"h-4 w-4 animate-pulse"}),"Subiendo..."]})]}),r.logo&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.logo}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"El logo se guardará automáticamente al seleccionar un archivo. Formatos soportados: JPG, PNG, GIF (máx. 2MB)"})]})]})]})]}),e.jsxs(N,{children:[e.jsx(b,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(G,{className:"h-5 w-5"}),"Configuración SRI"]})}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"sunat_mode",children:"Modo de Operación *"}),e.jsxs(oe,{value:a.sunat_mode,onValueChange:s=>i("sunat_mode",s),children:[e.jsx(ie,{className:r.sunat_mode?"border-red-500":"",children:e.jsx(le,{placeholder:"Seleccione el modo de operación"})}),e.jsx(ce,{children:I.map(s=>e.jsx(ne,{value:s.value,children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:`w-2 h-2 rounded-full ${s.value==="production"?"bg-green-500":"bg-yellow-500"}`}),s.label]})},s.value))})]}),r.sunat_mode&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.sunat_mode}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:a.sunat_mode==="production"?"Modo producción: facturas válidas ante SRI":"Modo pruebas: para desarrollo y testing"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(l,{children:"Estado de Conexión"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(L,{type:"button",variant:"outline",size:"sm",onClick:se,disabled:k,className:"flex items-center gap-2",children:[e.jsx(je,{className:"h-4 w-4"}),k?"Probando...":"Probar Conexión"]}),x&&e.jsxs("div",{className:"flex items-center gap-1",children:[x.connected?e.jsx(R,{className:"h-4 w-4 text-green-500"}):e.jsx(K,{className:"h-4 w-4 text-red-500"}),e.jsx("span",{className:`text-sm ${x.connected?"text-green-600":"text-red-600"}`,children:x.connected?"Conectado":"Error"})]})]}),(x==null?void 0:x.message)&&e.jsx("p",{className:"text-sm text-muted-foreground",children:x.message})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"certificate",children:"Certificado Digital (.pfx, .p12) *"}),e.jsx(c,{id:"certificate",type:"file",accept:".pfx,.p12,.pem,.cer,.cert,.crt",onChange:s=>B(s,"certificate"),className:r.certificate?"border-red-500":""}),r.certificate&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.certificate}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Certificado digital emitido por una entidad certificadora autorizada por SRI"})]}),z==="pfx"&&e.jsxs("div",{children:[e.jsx(l,{htmlFor:"certificate_password",children:"Contraseña del Certificado"}),e.jsx(c,{id:"certificate_password",type:"password",value:a.certificate_password,onChange:s=>i("certificate_password",s.target.value),placeholder:"Contraseña del certificado PFX/P12",className:r.certificate_password?"border-red-500":""}),r.certificate_password&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.certificate_password}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Solo requerido para certificados PFX/P12"})]}),z==="pem"&&e.jsxs(O,{children:[e.jsx(R,{className:"h-4 w-4"}),e.jsx($,{children:"Los certificados PEM no requieren contraseña"})]}),f&&e.jsxs(O,{children:[e.jsx(G,{className:"h-4 w-4"}),e.jsx($,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"font-medium",children:"Estado del certificado:"}),f.exists?e.jsxs(M,{variant:"outline",className:"text-green-600 border-green-600",children:[e.jsx(R,{className:"h-3 w-3 mr-1"}),"Cargado"]}):e.jsxs(M,{variant:"outline",className:"text-red-600 border-red-600",children:[e.jsx(K,{className:"h-3 w-3 mr-1"}),"No encontrado"]})]}),f.size&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Tamaño:"})," ",re(f.size)]}),f.last_modified&&e.jsxs("p",{className:"text-sm",children:[e.jsx("strong",{children:"Última modificación:"})," ",new Date(f.last_modified*1e3).toLocaleString()]})]})})]})]})]})]}),e.jsxs(N,{children:[e.jsx(b,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(X,{className:"h-5 w-5"}),"Series de Documentos"]})}),e.jsx(w,{children:e.jsxs("div",{className:"grid grid-cols-1 gap-4 md:grid-cols-2 lg:grid-cols-4",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"invoice_series",children:"Serie Facturas"}),e.jsx(c,{id:"invoice_series",value:a.invoice_series,onChange:s=>i("invoice_series",s.target.value),placeholder:"F001",maxLength:4,className:r.invoice_series?"border-red-500":""}),r.invoice_series&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.invoice_series}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ejemplo: F001"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"receipt_series",children:"Serie Boletas"}),e.jsx(c,{id:"receipt_series",value:a.receipt_series,onChange:s=>i("receipt_series",s.target.value),placeholder:"B001",maxLength:4,className:r.receipt_series?"border-red-500":""}),r.receipt_series&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.receipt_series}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ejemplo: B001"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"credit_note_series",children:"Serie Notas de Crédito"}),e.jsx(c,{id:"credit_note_series",value:a.credit_note_series,onChange:s=>i("credit_note_series",s.target.value),placeholder:"FC01",maxLength:4,className:r.credit_note_series?"border-red-500":""}),r.credit_note_series&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.credit_note_series}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ejemplo: FC01"})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"debit_note_series",children:"Serie Notas de Débito"}),e.jsx(c,{id:"debit_note_series",value:a.debit_note_series,onChange:s=>i("debit_note_series",s.target.value),placeholder:"FD01",maxLength:4,className:r.debit_note_series?"border-red-500":""}),r.debit_note_series&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.debit_note_series}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Ejemplo: FD01"})]})]})})]}),e.jsxs(N,{children:[e.jsx(b,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Configuración de Reportes"]})}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"report_header",children:"Encabezado de Reportes"}),e.jsx(y,{id:"report_header",value:a.report_header,onChange:s=>i("report_header",s.target.value),placeholder:"Texto que aparecerá en el encabezado de los reportes",rows:3,className:r.report_header?"border-red-500":""}),r.report_header&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.report_header})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"report_footer",children:"Pie de Página de Reportes"}),e.jsx(y,{id:"report_footer",value:a.report_footer,onChange:s=>i("report_footer",s.target.value),placeholder:"Texto que aparecerá en el pie de página de los reportes",rows:3,className:r.report_footer?"border-red-500":""}),r.report_footer&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.report_footer})]})]})]}),e.jsxs(N,{children:[e.jsx(b,{children:e.jsxs(C,{className:"flex items-center gap-2",children:[e.jsx(J,{className:"h-5 w-5"}),"Configuración de Impresión de Documentos"]})}),e.jsxs(w,{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(l,{htmlFor:"invoice_footer",children:"Pie de Página Facturas"}),e.jsx(y,{id:"invoice_footer",value:a.invoice_footer,onChange:s=>i("invoice_footer",s.target.value),placeholder:"Texto que aparecerá en el pie de página de las facturas",rows:2,className:r.invoice_footer?"border-red-500":""}),r.invoice_footer&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.invoice_footer})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"receipt_footer",children:"Pie de Página Boletas"}),e.jsx(y,{id:"receipt_footer",value:a.receipt_footer,onChange:s=>i("receipt_footer",s.target.value),placeholder:"Texto que aparecerá en el pie de página de las boletas",rows:2,className:r.receipt_footer?"border-red-500":""}),r.receipt_footer&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.receipt_footer})]}),e.jsxs("div",{children:[e.jsx(l,{htmlFor:"note_footer",children:"Pie de Página Notas"}),e.jsx(y,{id:"note_footer",value:a.note_footer,onChange:s=>i("note_footer",s.target.value),placeholder:"Texto que aparecerá en el pie de página de las notas de crédito/débito",rows:2,className:r.note_footer?"border-red-500":""}),r.note_footer&&e.jsx("p",{className:"text-sm text-red-500 mt-1",children:r.note_footer})]})]})]}),e.jsx("div",{className:"fixed bottom-6 right-6 z-50",children:e.jsxs("div",{className:"flex flex-col gap-3",children:[h&&e.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-xl p-3 shadow-lg",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-blue-600"}),e.jsxs("div",{className:"text-sm text-blue-700",children:["Subiendo logo... ",Math.round(j),"%"]})]}),e.jsx(W,{value:j,className:"w-full mt-2"})]}),e.jsxs("div",{className:"flex gap-3 bg-white rounded-xl shadow-xl border border-gray-200 p-4 backdrop-blur-sm",children:[e.jsxs(L,{type:"button",variant:"outline",onClick:()=>window.location.reload(),className:"flex items-center gap-2 hover:bg-gray-50 transition-colors",disabled:T||h,children:[e.jsx(fe,{className:"h-4 w-4"}),"Cancelar"]}),e.jsx(L,{type:"submit",disabled:T||h,className:"min-w-[160px] flex items-center gap-2 bg-blue-600 hover:bg-blue-700 text-white shadow-md transition-all duration-200",children:T?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}),"Guardando..."]}):e.jsxs(e.Fragment,{children:[e.jsx(he,{className:"h-4 w-4"}),"Guardar Configuración"]})})]})]})}),e.jsx("div",{className:"pb-20"})]})]})})}export{gs as default};
