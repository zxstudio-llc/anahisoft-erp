import{r as o,j as e}from"./app-DQczwFTk.js";import{u as w,S as C,f as m,g as N,a as y,b as M,c as v}from"./index-CwDE0SfU.js";import{B as R}from"./button-BYXnJyXv.js";import{D as S,a as D,b as T,d as I,e as P,f as F}from"./dropdown-menu-DWIT9g2E.js";import{I as V}from"./input-goWATpHJ.js";import{T as k,a as _,b as r,c as A,d as B,e as n}from"./table-J6M9UKS6.js";import{S as H}from"./search-DPYN2drD.js";import{K as E}from"./key-aou-cbKc.js";import"./app-C-su-A41.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-D2mu7mBH.js";import"./utils-CPN-yreq.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-BfMh8EvQ.js";import"./index-DSuT5VJt.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./index-BVHM8iLO.js";import"./index-CJpv9kZ5.js";function de({columns:i,data:c,onSearch:l,searchValue:x="",isLoading:p=!1}){var d;const[g,h]=o.useState([{id:"created_at",desc:!0}]),[u,j]=o.useState([]),[f,b]=o.useState({}),a=w({data:c,columns:i,onSortingChange:h,onColumnFiltersChange:j,getCoreRowModel:v(),getPaginationRowModel:M(),getSortedRowModel:y(),getFilteredRowModel:N(),onColumnVisibilityChange:b,state:{sorting:g,columnFilters:u,columnVisibility:f}});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex flex-1 items-center space-x-2",children:e.jsxs("div",{className:"relative max-w-sm",children:[e.jsx(H,{className:"absolute left-2 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(V,{placeholder:"Buscar llaves API...",value:x,onChange:s=>l==null?void 0:l(s.target.value),className:"pl-8"})]})}),e.jsxs(S,{children:[e.jsx(D,{asChild:!0,children:e.jsxs(R,{variant:"outline",size:"sm",className:"ml-auto hidden h-8 lg:flex",children:[e.jsx(C,{className:"mr-2 h-4 w-4"}),"Columnas"]})}),e.jsxs(T,{align:"end",className:"w-[150px]",children:[e.jsx(I,{children:"Mostrar columnas"}),e.jsx(P,{}),a.getAllColumns().filter(s=>typeof s.accessorFn<"u"&&s.getCanHide()).map(s=>e.jsxs(F,{className:"capitalize",checked:s.getIsVisible(),onCheckedChange:t=>s.toggleVisibility(!!t),children:[s.id==="name"&&"Nombre",s.id==="abilities"&&"Permisos",s.id==="created_at"&&"Creada",s.id==="last_used_at"&&"Último uso",s.id==="expires_at"&&"Expira"]},s.id))]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(k,{children:[e.jsx(_,{children:a.getHeaderGroups().map(s=>e.jsx(r,{children:s.headers.map(t=>e.jsx(A,{children:t.isPlaceholder?null:m(t.column.columnDef.header,t.getContext())},t.id))},s.id))}),e.jsx(B,{children:p?e.jsx(r,{children:e.jsx(n,{colSpan:i.length,className:"h-24 text-center",children:e.jsx("div",{className:"flex items-center justify-center",children:e.jsx("div",{className:"h-8 w-8 animate-spin rounded-full border-4 border-primary border-t-transparent"})})})}):(d=a.getRowModel().rows)!=null&&d.length?a.getRowModel().rows.map(s=>e.jsx(r,{"data-state":s.getIsSelected()&&"selected",children:s.getVisibleCells().map(t=>e.jsx(n,{children:m(t.column.columnDef.cell,t.getContext())},t.id))},s.id)):e.jsx(r,{children:e.jsx(n,{colSpan:i.length,className:"h-24 text-center",children:e.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[e.jsx(E,{className:"h-12 w-12 text-gray-400"}),e.jsx("h3",{className:"mt-2 text-sm font-medium text-gray-900 dark:text-gray-100",children:"No hay llaves API"}),e.jsx("p",{className:"mt-1 text-sm text-gray-500 dark:text-gray-400",children:"No se encontraron llaves API que coincidan con tu búsqueda."})]})})})})]})})]})}export{de as DataTable};
