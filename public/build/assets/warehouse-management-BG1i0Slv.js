import{r as x,j as e}from"./app-DQczwFTk.js";import{C as i,a as r,b as n,d as l,c as B}from"./card-BNPG6E-E.js";import{B as O}from"./button-BYXnJyXv.js";import{I as z}from"./input-goWATpHJ.js";import{B as p}from"./badge-CIPxAGrn.js";import{T as G,a as U,b as P,c as d,d as Q,e as o}from"./table-J6M9UKS6.js";import{D as q,a as J,b as K,c as y}from"./dropdown-menu-DWIT9g2E.js";import{S as A,a as D,b as E,c as L,d as c}from"./select-D52pRjk-.js";import{A as Z,P as u}from"./app-sidebar-layout-DjIGW_b8.js";import{P as X}from"./plus-BGuKkasZ.js";import{S as Y}from"./search-DPYN2drD.js";import{M}from"./map-pin-d53rfHWq.js";import{E as _}from"./ellipsis-YiHoVY6K.js";import{E as ee}from"./eye-CUZrYUKa.js";import{S as se}from"./square-pen-NJFtVg51.js";import{T as ae}from"./trash-2-b2Qe_qpo.js";import{T as te}from"./triangle-alert-dUu2CXl0.js";import"./app-C-su-A41.js";import"./utils-CPN-yreq.js";import"./index-D2mu7mBH.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-BfMh8EvQ.js";import"./index-DSuT5VJt.js";import"./index-CqVE9Fls.js";import"./index-BOxxC3ps.js";import"./index-ClSqUjUN.js";import"./createLucideIcon-D40S4Mwt.js";import"./index-BVHM8iLO.js";import"./index-CJpv9kZ5.js";import"./index-7Ou4doz_.js";import"./index-CX1ZUDb2.js";import"./chevron-down-Bqmppv4h.js";import"./index-DcW1-0jE.js";import"./x-CNv1352c.js";import"./avatar-CLHvFKAC.js";import"./receipt-BIwab1oI.js";import"./file-text-mqHhLRuK.js";import"./folder-BRrK2jGA.js";import"./credit-card-DX0EPogz.js";import"./key-aou-cbKc.js";import"./shield-BhSokjS6.js";import"./dollar-sign-OeXEXPCy.js";import"./app-logo-icon-2MFPo7KO.js";import"./toast-lvG1LsW6.js";import"./index-Cou6Ygo0.js";function _e({warehouses:m=[{id:"1",code:"WH-001",name:"Bodega Principal",location:"Zona Industrial Norte",manager:"Carlos Rodríguez",capacity:1e4,currentOccupancy:7500,status:"active",type:"main",zones:[{id:"1",name:"Zona A - Almacenamiento",capacity:4e3,occupied:3200,type:"storage"},{id:"2",name:"Zona B - Picking",capacity:2e3,occupied:1800,type:"picking"},{id:"3",name:"Zona C - Recepción",capacity:2e3,occupied:1500,type:"receiving"},{id:"4",name:"Zona D - Despacho",capacity:2e3,occupied:1e3,type:"shipping"}]},{id:"2",code:"WH-002",name:"Bodega Secundaria",location:"Centro de Distribución Sur",manager:"Ana Martínez",capacity:5e3,currentOccupancy:3200,status:"active",type:"secondary",zones:[{id:"5",name:"Zona A - Almacenamiento",capacity:3e3,occupied:2e3,type:"storage"},{id:"6",name:"Zona B - Picking",capacity:1e3,occupied:800,type:"picking"},{id:"7",name:"Zona C - Despacho",capacity:1e3,occupied:400,type:"shipping"}]},{id:"3",code:"WH-003",name:"Bodega de Tránsito",location:"Puerto Comercial",manager:"Luis García",capacity:3e3,currentOccupancy:1800,status:"active",type:"transit",zones:[{id:"8",name:"Zona Temporal",capacity:2e3,occupied:1200,type:"storage"},{id:"9",name:"Zona de Carga",capacity:1e3,occupied:600,type:"shipping"}]},{id:"4",code:"WH-004",name:"Bodega en Mantenimiento",location:"Zona Industrial Este",manager:"Pedro López",capacity:4e3,currentOccupancy:0,status:"maintenance",type:"secondary",zones:[{id:"10",name:"Zona A - Cerrada",capacity:2e3,occupied:0,type:"storage"},{id:"11",name:"Zona B - Cerrada",capacity:2e3,occupied:0,type:"storage"}]}]}){const[h,I]=x.useState(""),[j,W]=x.useState("all"),[g,k]=x.useState("all"),[a,$]=x.useState(null),[f,ce]=x.useState(null),v=s=>{switch(s){case"active":return"bg-green-100 text-green-800";case"inactive":return"bg-gray-100 text-gray-800";case"maintenance":return"bg-yellow-100 text-yellow-800";default:return"bg-gray-100 text-gray-800"}},N=s=>{switch(s){case"main":return"bg-blue-100 text-blue-800";case"secondary":return"bg-purple-100 text-purple-800";case"transit":return"bg-orange-100 text-orange-800";case"returns":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},b=s=>s>=90?"text-red-600":s>=75?"text-yellow-600":"text-green-600",F=m.filter(s=>{const t=s.name.toLowerCase().includes(h.toLowerCase())||s.code.toLowerCase().includes(h.toLowerCase())||s.location.toLowerCase().includes(h.toLowerCase()),R=j==="all"||s.status===j,V=g==="all"||s.type===g;return t&&R&&V}),w=m.reduce((s,t)=>s+t.capacity,0),C=m.reduce((s,t)=>s+t.currentOccupancy,0),H=m.filter(s=>s.status==="active").length,S=C/w*100,T=[{title:"Inicio",href:"/"},{title:"Produccion",href:"/inventory"},{title:"Ordenes",href:"/inventory/purchase-orders"}];return f?e.jsx(Z,{breadcrumbs:T,children:e.jsx("div",{className:"p-4 text-center text-red-500",children:f})}):e.jsx(Z,{breadcrumbs:T,children:e.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Gestión de Bodegas"}),e.jsx("p",{className:"text-gray-600",children:"Administración de almacenes y centros de distribución"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6 mb-8",children:[e.jsxs(i,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Total Bodegas"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:m.length}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Centros registrados"})]})]}),e.jsxs(i,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Bodegas Activas"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold text-green-600",children:H}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"En operación"})]})]}),e.jsxs(i,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Capacidad Total"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsx("div",{className:"text-2xl font-bold",children:w.toLocaleString()}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"m³ de almacenamiento"})]})]}),e.jsxs(i,{children:[e.jsxs(r,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(n,{className:"text-sm font-medium",children:"Ocupación"}),e.jsx(u,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(l,{children:[e.jsxs("div",{className:`text-2xl font-bold ${b(S)}`,children:[S.toFixed(1),"%"]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[C.toLocaleString()," m³ ocupados"]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(i,{children:[e.jsx(r,{children:e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{children:[e.jsx(n,{children:"Bodegas"}),e.jsx(B,{children:"Lista de todos los centros de almacenamiento"})]}),e.jsxs(O,{children:[e.jsx(X,{className:"mr-2 h-4 w-4"}),"Nueva Bodega"]})]})}),e.jsxs(l,{children:[e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mb-6",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(Y,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),e.jsx(z,{placeholder:"Buscar bodegas...",value:h,onChange:s=>I(s.target.value),className:"pl-10"})]}),e.jsxs(A,{value:j,onValueChange:W,children:[e.jsx(D,{className:"w-full sm:w-32",children:e.jsx(E,{placeholder:"Estado"})}),e.jsxs(L,{children:[e.jsx(c,{value:"all",children:"Todos"}),e.jsx(c,{value:"active",children:"Activa"}),e.jsx(c,{value:"inactive",children:"Inactiva"}),e.jsx(c,{value:"maintenance",children:"Mantenimiento"})]})]}),e.jsxs(A,{value:g,onValueChange:k,children:[e.jsx(D,{className:"w-full sm:w-32",children:e.jsx(E,{placeholder:"Tipo"})}),e.jsxs(L,{children:[e.jsx(c,{value:"all",children:"Todos"}),e.jsx(c,{value:"main",children:"Principal"}),e.jsx(c,{value:"secondary",children:"Secundaria"}),e.jsx(c,{value:"transit",children:"Tránsito"}),e.jsx(c,{value:"returns",children:"Devoluciones"})]})]})]}),e.jsx("div",{className:"rounded-md border",children:e.jsxs(G,{children:[e.jsx(U,{children:e.jsxs(P,{children:[e.jsx(d,{children:"Bodega"}),e.jsx(d,{children:"Ubicación"}),e.jsx(d,{children:"Tipo"}),e.jsx(d,{children:"Ocupación"}),e.jsx(d,{children:"Estado"}),e.jsx(d,{className:"w-12"})]})}),e.jsx(Q,{children:F.map(s=>{const t=s.currentOccupancy/s.capacity*100;return e.jsxs(P,{className:"cursor-pointer hover:bg-gray-50",onClick:()=>$(s),children:[e.jsx(o,{children:e.jsxs("div",{children:[e.jsx("div",{className:"font-medium",children:s.name}),e.jsx("div",{className:"text-sm text-gray-500",children:s.code})]})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center",children:[e.jsx(M,{className:"h-4 w-4 mr-1 text-gray-400"}),s.location]})}),e.jsx(o,{children:e.jsx(p,{className:N(s.type),children:s.type==="main"?"Principal":s.type==="secondary"?"Secundaria":s.type==="transit"?"Tránsito":"Devoluciones"})}),e.jsx(o,{children:e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-16 bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:`h-2 rounded-full ${t>=90?"bg-red-500":t>=75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${t}%`}})}),e.jsxs("span",{className:`text-sm font-medium ${b(t)}`,children:[t.toFixed(1),"%"]})]})}),e.jsx(o,{children:e.jsx(p,{className:v(s.status),children:s.status==="active"?"Activa":s.status==="inactive"?"Inactiva":"Mantenimiento"})}),e.jsx(o,{children:e.jsxs(q,{children:[e.jsx(J,{asChild:!0,children:e.jsx(O,{variant:"ghost",size:"icon",children:e.jsx(_,{className:"h-4 w-4"})})}),e.jsxs(K,{align:"end",children:[e.jsxs(y,{children:[e.jsx(ee,{className:"mr-2 h-4 w-4"}),"Ver Detalles"]}),e.jsxs(y,{children:[e.jsx(se,{className:"mr-2 h-4 w-4"}),"Editar"]}),e.jsxs(y,{className:"text-red-600",children:[e.jsx(ae,{className:"mr-2 h-4 w-4"}),"Eliminar"]})]})]})})]},s.id)})})]})})]})]})}),e.jsx("div",{children:e.jsxs(i,{children:[e.jsxs(r,{children:[e.jsx(n,{children:"Detalles de Bodega"}),e.jsx(B,{children:a?a.name:"Selecciona una bodega"})]}),e.jsx(l,{children:a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Código:"}),e.jsx("div",{children:a.code})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Tipo:"}),e.jsx(p,{className:N(a.type),children:a.type==="main"?"Principal":a.type==="secondary"?"Secundaria":a.type==="transit"?"Tránsito":"Devoluciones"})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Gerente:"}),e.jsx("div",{children:a.manager})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Estado:"}),e.jsx(p,{className:v(a.status),children:a.status==="active"?"Activa":a.status==="inactive"?"Inactiva":"Mantenimiento"})]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Ubicación:"}),e.jsxs("div",{className:"flex items-center mt-1",children:[e.jsx(M,{className:"h-4 w-4 mr-1 text-gray-400"}),a.location]})]}),e.jsxs("div",{children:[e.jsx("span",{className:"font-medium",children:"Capacidad:"}),e.jsxs("div",{className:"mt-2",children:[e.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[e.jsxs("span",{children:["Ocupado: ",a.currentOccupancy.toLocaleString()," m³"]}),e.jsxs("span",{children:["Total: ",a.capacity.toLocaleString()," m³"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-3",children:e.jsx("div",{className:`h-3 rounded-full ${a.currentOccupancy/a.capacity*100>=90?"bg-red-500":a.currentOccupancy/a.capacity*100>=75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${a.currentOccupancy/a.capacity*100}%`}})})]})]}),e.jsxs("div",{children:[e.jsx("h4",{className:"font-medium mb-2",children:"Zonas:"}),e.jsx("div",{className:"space-y-2",children:a.zones.map(s=>{const t=s.occupied/s.capacity*100;return e.jsxs("div",{className:"border rounded p-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between items-center mb-1",children:[e.jsx("span",{className:"font-medium",children:s.name}),e.jsx(p,{variant:"outline",children:s.type==="storage"?"Almacén":s.type==="picking"?"Picking":s.type==="receiving"?"Recepción":"Despacho"})]}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 mb-1",children:[e.jsxs("span",{children:[s.occupied," / ",s.capacity," m³"]}),e.jsxs("span",{children:[t.toFixed(1),"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1",children:e.jsx("div",{className:`h-1 rounded-full ${t>=90?"bg-red-500":t>=75?"bg-yellow-500":"bg-green-500"}`,style:{width:`${t}%`}})})]},s.id)})})]}),a.zones.some(s=>s.occupied/s.capacity*100>=90)&&e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-3",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(te,{className:"h-4 w-4 text-red-600 mr-2"}),e.jsx("span",{className:"text-sm text-red-800 font-medium",children:"Alerta de Capacidad"})]}),e.jsx("p",{className:"text-sm text-red-700 mt-1",children:"Una o más zonas están al 90% o más de su capacidad."})]})]}):e.jsxs("div",{className:"text-center text-gray-500 py-8",children:[e.jsx(u,{className:"h-12 w-12 mx-auto mb-4 text-gray-300"}),e.jsx("div",{children:"Selecciona una bodega para ver los detalles"})]})})]})})]})]})})})}export{_e as default};
