import{r as T,d as k,j as e,L as w}from"./app-DQczwFTk.js";import{L as c}from"./label-BchK1h47.js";import{I as h}from"./input-goWATpHJ.js";import{T as x}from"./textarea-DHAakLHN.js";import{B as d}from"./button-BYXnJyXv.js";import{C as m,a as g,b as j,d as u}from"./card-BNPG6E-E.js";import{S as N}from"./switch-x9PZ-zT7.js";import{B as y}from"./badge-CIPxAGrn.js";import{BannerSelector as Ge}from"./banner-selector-8Ox-KjNa.js";import{NewsSelector as Je}from"./news-selector-DpyrRi43.js";import{TestimonialSelector as Ke}from"./testimonial-selector-cDXG25qk.js";import{L as _}from"./link-N9AlV6Pq.js";import{P as C}from"./plus-BGuKkasZ.js";import{C as D}from"./select-D52pRjk-.js";import{C as B}from"./chevron-down-Bqmppv4h.js";import{T as b}from"./trash-Drbn3N9x.js";import"./app-C-su-A41.js";import"./index-CnB8Y-kE.js";import"./index-CTC3mW-r.js";import"./index-D2mu7mBH.js";import"./utils-CPN-yreq.js";import"./index-BBPPPnEU.js";import"./index-KJ4lOR0W.js";import"./index-7Ou4doz_.js";import"./index-ClSqUjUN.js";import"./createLucideIcon-D40S4Mwt.js";import"./dialog-DHq7tLZ5.js";import"./index-DcW1-0jE.js";import"./index-CqVE9Fls.js";import"./index-DSuT5VJt.js";import"./index-BVHM8iLO.js";import"./x-CNv1352c.js";import"./image-dropzone-B7t8X9ae.js";import"./index-Cou6Ygo0.js";import"./trash-2-b2Qe_qpo.js";import"./index-BfMh8EvQ.js";import"./index-BOxxC3ps.js";import"./index-CX1ZUDb2.js";function Hs({data:n,onChange:S,errors:Qe}){var H,O,E,M,F,R,q,X,U,W,I,$,G,J,K,Q,V,Y,Z,ee,se,te,ie,ne,re;const[z,me]=T.useState(((O=(H=n.hero)==null?void 0:H[0])==null?void 0:O.hero_type)==="single"?"simple":"slider"),{banners:pe=[]}=k().props,{testimonials:xe=[]}=k().props,{news:ge=[]}=k().props,[je,ue]=T.useState({}),[ve,Ne]=T.useState({}),[fe,we]=T.useState({}),[l,ye]=T.useState({hero:!0,features:!0,testimonials:!1,highlights:!1,cta:!1,pricing:!1,news:!1}),Ce=s=>{var r,i,o,p,ae,ce,le,oe,he,de;const t={hero:[{hero_type:s==="simple"?"single":"slider",...s==="simple"?{heroTitle:((i=(r=n.hero)==null?void 0:r[0])==null?void 0:i.heroTitle)||"",heroSubtitle:((p=(o=n.hero)==null?void 0:o[0])==null?void 0:p.heroSubtitle)||"",heroButtonText:((ce=(ae=n.hero)==null?void 0:ae[0])==null?void 0:ce.heroButtonText)||"",heroButtonLink:((oe=(le=n.hero)==null?void 0:le[0])==null?void 0:oe.heroButtonLink)||""}:{banners:(((de=(he=n.hero)==null?void 0:he[0])==null?void 0:de.banners)||[]).map($e=>({banner_id:$e.banner_id}))}}],features:n.features||[],testimonials:n.testimonials||[],highlights:n.highlights||[],pricing:n.pricing||[],news:n.news||[],content:n.content||""};S(t),me(s)},a=(s,t)=>{var i,o;const r={...n};s.startsWith("hero")?r.hero=[{...((i=r.hero)==null?void 0:i[0])||{},[s]:t}]:s==="banners"?r.hero=[{...((o=r.hero)==null?void 0:o[0])||{},hero_type:"slider",banners:t.map(p=>({banner_id:p.banner_id}))}]:r[s]=t,S(r)},be=s=>{Ne(t=>({...t,[s]:!t[s]}))},Te=s=>{we(t=>({...t,[s]:!t[s]}))},ke=s=>{ue(t=>({...t,[s]:!t[s]}))},v=s=>{ye(t=>({...t,[s]:!t[s]}))},_e=async s=>{const t=new FormData;Object.entries(s).forEach(([o,p])=>{o!=="is_active"&&p!==null&&t.append(o,p)}),t.append("is_active",s.is_active?"1":"0");const r=await fetch("/admin/banners",{method:"POST",body:t,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!r.ok)throw new Error("Error creating banner");return(await r.json()).id},De=()=>{var t,r;const s=((r=(t=n.hero)==null?void 0:t[0])==null?void 0:r.banners)||[];a("banners",[...s,{banner_id:null}])},Be=(s,t,r)=>{var o,p;const i=[...((p=(o=n.hero)==null?void 0:o[0])==null?void 0:p.banners)||[]];i[s]={...i[s],[t]:r},a("banners",i)},Se=s=>{var r,i;const t=(((i=(r=n.hero)==null?void 0:r[0])==null?void 0:i.banners)||[]).filter((o,p)=>p!==s);a("banners",t)},ze=()=>{const s=n.features||[];a("features",[...s,{Title:"",Description:"",feature_items:[]}])},L=(s,t,r)=>{const i=[...n.features||[]];i[s]={...i[s],[t]:r},a("features",i)},Le=()=>{const s=n.testimonials||[];a("testimonials",[...s,{name:"",role:"",content:"",avatar:""}])},Pe=(s,t,r)=>{const i=[...n.testimonials||[]];i[s]={...i[s],[t]:r},a("testimonials",i)},Ae=s=>{const t=(n.testimonials||[]).filter((r,i)=>i!==s);a("testimonials",t)},He=async s=>{const t=new FormData;t.append("name",s.name),t.append("position",s.position||""),t.append("message",s.message),t.append("is_active","1"),s.photo&&t.append("photo",s.photo);const r=await fetch("/admin/testimonials",{method:"POST",body:t,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!r.ok)throw new Error("Error al crear testimonio");return(await r.json()).id},Oe=()=>{const s=n.news||[];a("news",[...s,{news_id:null}])},Ee=(s,t,r)=>{const i=[...n.news||[]];i[s]={...i[s],[t]:r},a("news",i)},Me=s=>{const t=(n.news||[]).filter((r,i)=>i!==s);a("news",t)},Fe=async s=>{const t=await fetch("/admin/news",{method:"POST",body:s,headers:{Accept:"application/json","X-Requested-With":"XMLHttpRequest"}});if(!t.ok)throw new Error("Error al crear noticia");return(await t.json()).id},Re=()=>{(n.highlights||[]).length===0&&a("highlights",[{title:"",description:"",highlights_items:[]}])},qe=s=>{const t=[...n.highlights||[]];t[s].highlights_items=[...t[s].highlights_items||[],{title:"",description:""}],a("highlights",t)},P=(s,t,r,i)=>{const o=[...n.highlights||[]];o[s].highlights_items[t]={...o[s].highlights_items[t],[r]:i},a("highlights",o)},Xe=(s,t)=>{const r=[...n.highlights||[]];r[s].highlights_items=r[s].highlights_items.filter((i,o)=>o!==t),a("highlights",r)},A=(s,t,r)=>{const i=[...n.highlights||[]];i[s]={...i[s],[t]:r},a("highlights",i)},Ue=()=>{const s=n.pricing||[];a("pricing",[...s,{title:"",price:"",description:"",features:[],buttonText:"",buttonLink:""}])},f=(s,t,r)=>{const i=[...n.pricing||[]];i[s]={...i[s],[t]:r},a("pricing",i)},We=s=>{const t=(n.pricing||[]).filter((r,i)=>i!==s);a("pricing",t)},Ie=s=>{const t=(n.features||[]).filter((r,i)=>i!==s);a("features",t)};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs(m,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{children:"Sección Principal"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{checked:l.hero,onCheckedChange:()=>v("hero")}),e.jsx(c,{children:l.hero?"Mostrando":"Oculto"})]})]})}),l.hero&&e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Tipo de Sección"}),e.jsxs("select",{value:z,onChange:s=>Ce(s.target.value),className:"w-full p-2 border rounded-md",children:[e.jsx("option",{value:"simple",children:"Hero Simple"}),e.jsx("option",{value:"slider",children:"Slider/Carrusel"})]})]}),z==="simple"?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Título Principal"}),e.jsx(h,{value:((M=(E=n.hero)==null?void 0:E[0])==null?void 0:M.heroTitle)||"",onChange:s=>a("heroTitle",s.target.value),placeholder:"Título principal del hero"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Subtítulo"}),e.jsx(h,{value:((R=(F=n.hero)==null?void 0:F[0])==null?void 0:R.heroSubtitle)||"",onChange:s=>a("heroSubtitle",s.target.value),placeholder:"Subtítulo del hero"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Texto del Botón"}),e.jsx(h,{value:((X=(q=n.hero)==null?void 0:q[0])==null?void 0:X.heroButtonText)||"",onChange:s=>a("heroButtonText",s.target.value),placeholder:"Texto del botón principal"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Enlace del Botón"}),e.jsx(h,{value:((W=(U=n.hero)==null?void 0:U[0])==null?void 0:W.heroButtonLink)||"",onChange:s=>a("heroButtonLink",s.target.value),placeholder:"URL del botón principal"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(w,{href:"/admin/banners",className:"text-sm flex items-center text-primary",children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Administrar Banners"]}),e.jsxs(d,{type:"button",onClick:De,size:"sm",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Agregar Banner"]})]}),((($=(I=n.hero)==null?void 0:I[0])==null?void 0:$.banners)||[]).map((s,t)=>{const r=je[t]??!0;return e.jsxs(m,{className:"p-4 mt-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{variant:"outline",children:["Banner ",t+1]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{type:"button",variant:"ghost",size:"icon",onClick:i=>{i.preventDefault(),i.stopPropagation(),ke(t)},className:"text-muted-foreground hover:text-foreground",children:r?e.jsx(D,{className:"w-4 h-4"}):e.jsx(B,{className:"w-4 h-4"})}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:i=>{i.preventDefault(),i.stopPropagation(),Se(t)},className:"text-red-500 hover:text-red-700",children:e.jsx(b,{className:"w-4 h-4"})})]})]}),r&&e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4 mt-4",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(Ge,{banners:pe,value:s.banner_id,onChange:i=>Be(t,"banner_id",i),onCreateNew:_e}),e.jsx("p",{className:"text-xs text-gray-500",children:"Ingresa el ID de un banner existente o deja vacío para crear uno nuevo"})]})})]},t)}),(!((J=(G=n.hero)==null?void 0:G[0])!=null&&J.banners)||((Q=(K=n.hero)==null?void 0:K[0])==null?void 0:Q.banners.length)===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No hay banners configurados"}),e.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Banner" para comenzar'}),e.jsxs("p",{className:"text-sm mt-2",children:["O ",e.jsx(w,{href:"/admin/banners",className:"text-primary",children:"administra tus banners existentes"})]})]})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{children:"Características Destacadas"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.features&&e.jsxs(d,{type:"button",onClick:ze,size:"sm",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Agregar Característica"]}),e.jsx(N,{checked:l.features,onCheckedChange:()=>v("features")}),e.jsx(c,{children:l.features?"Mostrando":"Oculto"})]})]})}),l.features&&e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Título de Sección"}),e.jsx(h,{value:n.title||"",onChange:s=>a("title",s.target.value),placeholder:"Título para la sección de características"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Descripción de Sección"}),e.jsx(x,{value:n.description||"",onChange:s=>a("description",s.target.value),placeholder:"Descripción para la sección de características",rows:3})]}),(n.features||[]).map((s,t)=>e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs(y,{variant:"outline",children:["Sección de Características ",t+1]}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ie(t),className:"text-red-500 hover:text-red-700",children:e.jsx(b,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex flex-col gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Título de Sección"}),e.jsx(h,{value:s.Title||"",onChange:r=>L(t,"Title",r.target.value),placeholder:"Título de la sección"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Descripción de Sección"}),e.jsx(x,{value:s.Description||"",onChange:r=>L(t,"Description",r.target.value),placeholder:"Descripción de la sección",rows:3})]})]})]},t)),(!n.features||n.features.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No hay secciones de características configuradas"}),e.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Característica" para comenzar'})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{children:"Testimonios"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.testimonials&&e.jsxs(w,{href:"/admin/testimonials",className:"text-sm flex items-center text-primary",children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Administrar Testimonios"]}),l.testimonials&&e.jsxs(d,{type:"button",onClick:Le,size:"sm",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Agregar Testimonio"]}),e.jsx(N,{checked:l.testimonials,onCheckedChange:()=>v("testimonials")}),e.jsx(c,{children:l.testimonials?"Mostrando":"Oculto"})]})]})}),l.testimonials&&e.jsxs(u,{className:"space-y-4",children:[(n.testimonials||[]).map((s,t)=>{const r=ve[t]??!0;return e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{variant:"outline",children:["Testimonio ",t+1]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{type:"button",variant:"ghost",size:"icon",onClick:()=>be(t),className:"text-muted-foreground hover:text-foreground",children:r?e.jsx(D,{className:"w-4 h-4"}):e.jsx(B,{className:"w-4 h-4"})}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:()=>Ae(t),className:"text-red-500 hover:text-red-700",children:e.jsx(b,{className:"w-4 h-4"})})]})]}),r&&e.jsx("div",{className:"mt-4 space-y-2",children:e.jsx(Ke,{testimonials:xe,value:s.testimonial_id,onChange:i=>Pe(t,"testimonial_id",i),onCreateNew:He})})]},t)}),(!n.testimonials||n.testimonials.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No hay testimonios configurados"}),e.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Testimonio" para comenzar'}),e.jsxs("p",{className:"text-sm mt-2",children:["O ",e.jsx(w,{href:"/admin/testimonials",className:"text-primary",children:"administra tus testimonios existentes"})]})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{children:"Puntos Destacados"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.highlights&&e.jsxs(d,{type:"button",onClick:Re,size:"sm",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Agregar Elemento"]}),e.jsx(N,{checked:l.highlights,onCheckedChange:()=>v("highlights")}),e.jsx(c,{children:l.highlights?"Mostrando":"Oculto"})]})]})}),l.highlights&&e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Título de Sección"}),e.jsx(h,{value:((Y=(V=n.highlights)==null?void 0:V[0])==null?void 0:Y.title)||"",onChange:s=>A(0,"title",s.target.value),placeholder:"Título para la sección de puntos destacados"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Descripción de Sección"}),e.jsx(x,{value:((ee=(Z=n.highlights)==null?void 0:Z[0])==null?void 0:ee.description)||"",onChange:s=>A(0,"description",s.target.value),placeholder:"Descripción para la sección de puntos destacados",rows:3})]}),(((te=(se=n.highlights)==null?void 0:se[0])==null?void 0:te.highlights_items)||[]).map((s,t)=>e.jsxs(m,{className:"p-4 mt-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(y,{variant:"secondary",children:["Elemento ",t+1]})}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:()=>Xe(0,t),className:"text-red-500 hover:text-red-700",children:e.jsx(b,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Título"}),e.jsx(h,{value:s.title||"",onChange:r=>P(0,t,"title",r.target.value),placeholder:"Título del elemento"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Descripción"}),e.jsx(x,{value:s.description||"",onChange:r=>P(0,t,"description",r.target.value),placeholder:"Descripción del elemento",rows:3})]})]})),e.jsx(d,{type:"button",variant:"outline",onClick:()=>qe(0),className:"mt-4",children:"Agregar Elemento"}),!((re=(ne=(ie=n.highlights)==null?void 0:ie[0])==null?void 0:ne.highlights_items)!=null&&re.length)&&e.jsxs("div",{className:"text-center py-4 text-gray-500",children:[e.jsx("p",{children:"No hay elementos configurados"}),e.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Elemento" para comenzar'})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{children:"Planes de Precios"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.pricing&&e.jsxs(d,{type:"button",onClick:Ue,size:"sm",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Agregar Plan"]}),e.jsx(N,{checked:l.pricing,onCheckedChange:()=>v("pricing")}),e.jsx(c,{children:l.pricing?"Mostrando":"Oculto"})]})]})}),l.pricing&&e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Título de Sección"}),e.jsx(h,{value:n.pricingTitle||"",onChange:s=>a("pricingTitle",s.target.value),placeholder:"Título para la sección de precios"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Descripción de Sección"}),e.jsx(x,{value:n.pricingDescription||"",onChange:s=>a("pricingDescription",s.target.value),placeholder:"Descripción para la sección de precios",rows:3})]}),(n.pricing||[]).map((s,t)=>{var r;return e.jsxs(m,{className:"p-4",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs(y,{variant:"outline",children:["Plan ",t+1]}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:i=>{i.preventDefault(),i.stopPropagation(),We(t)},className:"text-red-500 hover:text-red-700",children:e.jsx(b,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Título del Plan"}),e.jsx(h,{value:s.title||"",onChange:i=>f(t,"title",i.target.value),placeholder:"Nombre del plan"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Precio"}),e.jsx(h,{value:s.price||"",onChange:i=>f(t,"price",i.target.value),placeholder:"Ej: $99/mes"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Texto del Botón"}),e.jsx(h,{value:s.buttonText||"",onChange:i=>f(t,"buttonText",i.target.value),placeholder:"Texto del botón"})]})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"Descripción del Plan"}),e.jsx(x,{value:s.description||"",onChange:i=>f(t,"description",i.target.value),placeholder:"Descripción breve del plan",rows:2})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"Características (separadas por comas)"}),e.jsx(x,{value:((r=s.features)==null?void 0:r.join(", "))||"",onChange:i=>f(t,"features",i.target.value.split(",").map(o=>o.trim())),placeholder:"Característica 1, Característica 2, Característica 3",rows:3})]}),e.jsxs("div",{className:"mt-4 space-y-2",children:[e.jsx(c,{children:"Enlace del Botón"}),e.jsx(h,{value:s.buttonLink||"",onChange:i=>f(t,"buttonLink",i.target.value),placeholder:"URL del botón"})]})]},t)}),(!n.pricing||n.pricing.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No hay planes de precios configurados"}),e.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Plan" para comenzar'})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{children:"Noticias Destacadas"}),e.jsxs("div",{className:"flex items-center gap-2",children:[l.news&&e.jsxs(w,{href:"/admin/news",className:"text-sm flex items-center text-primary",children:[e.jsx(_,{className:"w-4 h-4 mr-1"}),"Administrar Noticias"]}),l.news&&e.jsxs(d,{type:"button",onClick:Oe,size:"sm",children:[e.jsx(C,{className:"w-4 h-4 mr-2"}),"Agregar Noticia"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{checked:l.news,onCheckedChange:()=>v("news"),id:"news-toggle"}),e.jsx(c,{htmlFor:"news-toggle",children:l.news?"Mostrando":"Oculto"})]})]})]})}),l.news&&e.jsxs(u,{className:"space-y-4",children:[e.jsx("div",{className:"flex flex-wrap gap-4",children:(n.news||[]).map((s,t)=>{var i;const r=fe[t]??!0;return e.jsxs(m,{className:"p-4 flex-1 min-w-[300px] max-w-[calc(33.333%_-_16px)]",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(y,{variant:"outline",children:["Noticia ",t+1]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(d,{type:"button",variant:"ghost",size:"icon",onClick:()=>Te(t),className:"text-muted-foreground hover:text-foreground",children:r?e.jsx(D,{className:"w-4 h-4"}):e.jsx(B,{className:"w-4 h-4"})}),e.jsx(d,{type:"button",variant:"ghost",size:"sm",onClick:()=>Me(t),className:"text-red-500 hover:text-red-700",children:e.jsx(b,{className:"w-4 h-4"})})]})]}),r&&e.jsx("div",{className:"mt-4 space-y-2",children:e.jsx(Je,{news:ge,value:s.news_id,onChange:o=>Ee(t,"news_id",o),onCreateNew:Fe,usedItems:((i=n.news)==null?void 0:i.map(o=>o.news_id).filter(o=>o!==s.news_id))||[]})})]},t)})}),(!n.news||n.news.length===0)&&e.jsxs("div",{className:"text-center py-8 text-gray-500",children:[e.jsx("p",{children:"No hay noticias configuradas"}),e.jsx("p",{className:"text-sm",children:'Haz clic en "Agregar Noticia" para comenzar'}),e.jsxs("p",{className:"text-sm mt-2",children:["O ",e.jsx(w,{href:"/admin/news",className:"text-primary",children:"administra tus noticias existentes"})]})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(j,{children:"Llamado a la Acción (CTA)"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(N,{checked:l.cta,onCheckedChange:()=>v("cta")}),e.jsx(c,{children:l.cta?"Mostrando":"Oculto"})]})]})}),l.cta&&e.jsxs(u,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Título"}),e.jsx(h,{value:n.ctaTitle||"",onChange:s=>a("ctaTitle",s.target.value),placeholder:"Título del CTA"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Descripción"}),e.jsx(x,{value:n.ctaDescription||"",onChange:s=>a("ctaDescription",s.target.value),placeholder:"Descripción del CTA",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Texto del Botón"}),e.jsx(h,{value:n.ctaButtonText||"",onChange:s=>a("ctaButtonText",s.target.value),placeholder:"Texto del botón"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{children:"Enlace del Botón"}),e.jsx(h,{value:n.ctaButtonLink||"",onChange:s=>a("ctaButtonLink",s.target.value),placeholder:"URL del botón"})]})]})]})]}),e.jsxs(m,{children:[e.jsx(g,{children:e.jsx(j,{children:"Contenido Adicional"})}),e.jsx(u,{children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"content",children:"Contenido HTML"}),e.jsx(x,{id:"content",value:n.content||"",onChange:s=>a("content",s.target.value),placeholder:"Contenido adicional en HTML...",rows:8,className:"font-mono text-sm"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Puedes usar HTML para formatear el contenido adicional que aparecerá después del hero y características."})]})})]})]})}export{Hs as LandingConfig};
